{"remainingRequest":"D:\\IEMS5718web\\shop_demo\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\IEMS5718web\\shop_demo\\src\\views\\ProductAdmin.vue?vue&type=style&index=0&id=946c0e14&scoped=true&lang=css","dependencies":[{"path":"D:\\IEMS5718web\\shop_demo\\src\\views\\ProductAdmin.vue","mtime":1739853368566},{"path":"D:\\IEMS5718web\\shop_demo\\node_modules\\css-loader\\dist\\cjs.js","mtime":1741261882324},{"path":"D:\\IEMS5718web\\shop_demo\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":1741261884453},{"path":"D:\\IEMS5718web\\shop_demo\\node_modules\\postcss-loader\\src\\index.js","mtime":1741261883187},{"path":"D:\\IEMS5718web\\shop_demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1741261881553},{"path":"D:\\IEMS5718web\\shop_demo\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1741261883497}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogIC8qIOWfuuehgOagt+W8jyAqLw0KICAuYWRtaW4tY29udGFpbmVyIHsNCiAgICBwYWRkaW5nOiAyMHB4Ow0KICAgIG1heC13aWR0aDogMTAwMHB4Ow0KICAgIG1hcmdpbjogMCBhdXRvOw0KICB9DQogIA0KICAuZGF0YS10YWJsZSB7DQogICAgd2lkdGg6IDEwMCU7DQogICAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTsNCiAgICBtYXJnaW4tdG9wOiAyMHB4Ow0KICB9DQogIA0KICAuZGF0YS10YWJsZSB0aCwNCiAgLmRhdGEtdGFibGUgdGQgew0KICAgIHBhZGRpbmc6IDEycHg7DQogICAgYm9yZGVyOiAxcHggc29saWQgI2RkZDsNCiAgICB0ZXh0LWFsaWduOiBsZWZ0Ow0KICB9DQogIA0KICAuZGF0YS10YWJsZSB0aCB7DQogICAgYmFja2dyb3VuZC1jb2xvcjogI2Y1ZjVmNTsNCiAgfQ0KICANCiAgLmFjdGlvbnMgew0KICAgIG1pbi13aWR0aDogMTUwcHg7DQogIH0NCiAgDQogIC5idG4gew0KICAgIHBhZGRpbmc6IDhweCAxNnB4Ow0KICAgIGJvcmRlci1yYWRpdXM6IDRweDsNCiAgICBjdXJzb3I6IHBvaW50ZXI7DQogICAgbWFyZ2luOiAwIDRweDsNCiAgICB0cmFuc2l0aW9uOiBhbGwgMC4zczsNCiAgfQ0KICANCiAgLmJ0bi5wcmltYXJ5IHsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDA5ZWZmOw0KICAgIGNvbG9yOiB3aGl0ZTsNCiAgICBib3JkZXI6IDFweCBzb2xpZCAjNDA5ZWZmOw0KICB9DQogIA0KICAuYnRuLmVkaXQgew0KICAgIGJhY2tncm91bmQtY29sb3I6ICNlNmEyM2M7DQogICAgY29sb3I6IHdoaXRlOw0KICAgIGJvcmRlcjogMXB4IHNvbGlkICNlNmEyM2M7DQogIH0NCiAgDQogIC5idG4uZGFuZ2VyIHsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjU2YzZjOw0KICAgIGNvbG9yOiB3aGl0ZTsNCiAgICBib3JkZXI6IDFweCBzb2xpZCAjZjU2YzZjOw0KICB9DQogIA0KICAvKiDmqKHmgIHmoYbmoLflvI8gKi8NCiAgLm1vZGFsIHsNCiAgICBwb3NpdGlvbjogZml4ZWQ7DQogICAgdG9wOiAwOw0KICAgIGxlZnQ6IDA7DQogICAgcmlnaHQ6IDA7DQogICAgYm90dG9tOiAwOw0KICAgIGJhY2tncm91bmQ6IHJnYmEoMCwwLDAsMC41KTsNCiAgICBkaXNwbGF5OiBmbGV4Ow0KICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7DQogIH0NCiAgDQogIC5tb2RhbC1jb250ZW50IHsNCiAgICBiYWNrZ3JvdW5kOiB3aGl0ZTsNCiAgICBwYWRkaW5nOiAyNHB4Ow0KICAgIGJvcmRlci1yYWRpdXM6IDhweDsNCiAgICBtaW4td2lkdGg6IDQwMHB4Ow0KICB9DQogIA0KICAuZm9ybS1ncm91cCB7DQogICAgbWFyZ2luLWJvdHRvbTogMTZweDsNCiAgfQ0KICANCiAgLmZvcm0taW5wdXQgew0KICAgIHdpZHRoOiAxMDAlOw0KICAgIHBhZGRpbmc6IDhweDsNCiAgICBib3JkZXI6IDFweCBzb2xpZCAjZGRkOw0KICAgIGJvcmRlci1yYWRpdXM6IDRweDsNCiAgfQ0KICANCiAgLmZvcm0tYWN0aW9ucyB7DQogICAgbWFyZ2luLXRvcDogMjBweDsNCiAgICB0ZXh0LWFsaWduOiByaWdodDsNCiAgfQ0KICA="},{"version":3,"sources":["D:\\IEMS5718web\\shop_demo\\src\\views\\ProductAdmin.vue"],"names":[],"mappings":"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","file":"D:/IEMS5718web/shop_demo/src/views/ProductAdmin.vue","sourceRoot":"","sourcesContent":["<!-- ProductAdmin.vue -->\r\n<template>\r\n  <div class=\"admin-container\">\r\n    <!-- 操作按钮组 -->\r\n    <div class=\"action-bar\">\r\n      <button class=\"btn primary\" @click=\"showCreateDialog\">Add Product</button>\r\n    </div>\r\n\r\n    <!-- 数据表格 -->\r\n    <table class=\"data-table\">\r\n      <thead>\r\n        <tr>\r\n          <th>ID</th>\r\n          <th>Prooduct Name</th>\r\n          <th>Category</th>\r\n          <th>Price</th>\r\n          <th>Description</th>\r\n          <th>Picture</th>\r\n          <th>Operation</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"item in products\" :key=\"item.pid\">\r\n          <td>{{ item.pid }}</td>\r\n          <td>{{ item.name }}</td>\r\n          <td>{{ item.cname }}</td>\r\n          <td>{{ item.price }}</td>\r\n          <td>{{ item.description }}</td>\r\n          <td>\r\n            <img \r\n              v-if=\"item.thumbnail_url\" \r\n              :src=\"url_prefix+item.thumbnail_url\" \r\n              class=\"thumbnail\"\r\n            >\r\n            <span v-else>Not Found Image</span>\r\n          </td>\r\n          <td class=\"actions\">\r\n            <button class=\"btn edit\" @click=\"showEditDialog(item)\">Edit</button>\r\n            <button class=\"btn danger\" @click=\"deleteItem(item.pid)\">Delete</button>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n\r\n    <!-- 弹窗 -->\r\n    <div v-if=\"showDialog\" class=\"modal\">\r\n      <div class=\"modal-content\">\r\n        <h3>{{ dialogTitle }}</h3>\r\n        <form @submit.prevent=\"submitForm\">\r\n          <div class=\"form-group\">\r\n            <label>Name</label>\r\n            <input \r\n              type=\"text\" \r\n              v-model=\"formData.name\" \r\n              required\r\n              class=\"form-input\"\r\n            >\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label>Category</label>\r\n            <select \r\n              v-model=\"formData.catid\" \r\n              required\r\n              class=\"form-input\"\r\n            >\r\n              <option \r\n                v-for=\"category in categories\" \r\n                :key=\"category.catid\" \r\n                :value=\"category.catid\"\r\n              >\r\n                {{ category.name }}\r\n              </option>\r\n            </select>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label>Price</label>\r\n            <input \r\n              type=\"number\" \r\n              v-model=\"formData.price\" \r\n              step=\"0.01\"\r\n              required\r\n              class=\"form-input\"\r\n            >\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label>Description</label>\r\n            <textarea \r\n              v-model=\"formData.description\" \r\n              class=\"form-input\"\r\n            ></textarea>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label>Upload Picture</label>\r\n            <input \r\n              type=\"file\" \r\n              @change=\"handleFileUpload\"\r\n              accept=\"image/*\"\r\n            >\r\n            <div v-if=\"uploadStatus\" class=\"upload-status\">\r\n              {{ uploadStatus }}\r\n            </div>\r\n          </div>\r\n          <div class=\"form-actions\">\r\n            <button type=\"button\" class=\"btn\" @click=\"closeDialog\">Cancel</button>\r\n            <button type=\"submit\" class=\"btn primary\">Submit</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed, onMounted } from 'vue'\r\nimport axios from 'axios'\r\n\r\n\r\nconst url_prefix = ref(\"http://localhost:8000\")\r\n// 数据状态\r\nconst products = ref([])\r\nconst categories = ref([])\r\nconst showDialog = ref(false)\r\nconst formData = ref({\r\n  name: '',\r\n  catid: '',\r\n  price: 0,\r\n  description: '',\r\n  image_url: '',\r\n  thumbnail_url: ''\r\n})\r\nconst currentId = ref(null)\r\nconst isEditMode = ref(false)\r\nconst uploadStatus = ref('')\r\n\r\n// 计算属性\r\nconst dialogTitle = computed(() => \r\n  isEditMode.value ? 'Edit Product' : 'Add Product'\r\n)\r\n\r\n// 加载商品数据\r\nconst loadProducts = async () => {\r\n  const res = await axios.get('http://localhost:8000/api/products')\r\n  products.value = res.data\r\n  console.log(products.value)\r\n  for (let i = 0; i < products.value.length; i++) {\r\n    // products.value[i].catid = categories.value.find(item => item.catid === products.value[i].catid).name\r\n    products.value[i].append('cname',categories.value.find(item => item.catid === products.value[i].catid).name )\r\n  }\r\n}\r\n\r\n// 加载分类数据\r\nconst loadCategories = async () => {\r\n  const res = await axios.get('http://localhost:8000/api/categories')\r\n  categories.value = res.data\r\n}\r\n\r\n// 显示创建弹窗\r\nconst showCreateDialog = () => {\r\n  isEditMode.value = false\r\n  formData.value = {\r\n    name: '',\r\n    catid: '',\r\n    price: 0,\r\n    description: '',\r\n    image_url: '',\r\n    thumbnail_url: ''\r\n  }\r\n  showDialog.value = true\r\n}\r\n\r\n// 显示编辑弹窗\r\nconst showEditDialog = (item) => {\r\n  isEditMode.value = true\r\n  formData.value = { ...item }\r\n  currentId.value = item.pid\r\n  showDialog.value = true\r\n}\r\n\r\n\r\n// 表单验证规则\r\nconst validateForm = () => {\r\n  if (!formData.value.name.trim()) {\r\n    alert('Product name can not be blank')\r\n    return false\r\n  }\r\n  if (!formData.value.catid) {\r\n    alert('Please select product category')\r\n    return false\r\n  }\r\n  if (formData.value.price <= 0) {\r\n    alert('The price must be greater than 0')\r\n    return false\r\n  }\r\n  return true\r\n}\r\n\r\n// 提交表单\r\nconst submitForm = async () => {\r\n  if (!validateForm()) return\r\n  try {\r\n    if (isEditMode.value) {\r\n      await axios.put(`http://localhost:8000/api/products/${currentId.value}`, formData.value)\r\n    } else {\r\n      await axios.post('http://localhost:8000/api/products', formData.value)\r\n    }\r\n\r\n    await loadProducts()\r\n    closeDialog()\r\n  } catch (error) {\r\n    console.error('操作失败:', error)\r\n  }\r\n}\r\n\r\n// 删除条目\r\nconst deleteItem = async (id) => {\r\n  if (confirm('Are you sure you want to delete this product?')) {\r\n    await axios.delete(`http://localhost:8000/api/products/${id}`)\r\n    await loadProducts()\r\n    confirm('Delete Successful')\r\n  }\r\n}\r\n\r\n// 文件上传处理\r\nconst handleFileUpload = async (e) => {\r\n  const file = e.target.files[0]\r\n  if (!file) return\r\n\r\n  const formData1 = new FormData()\r\n  formData1.append('file', file)\r\n\r\n  try {\r\n    const res = await axios.post('http://localhost:8000/api/upload-image', formData1, {\r\n      headers: { 'Content-Type': 'multipart/form-data' }\r\n    })\r\n    // 更新表单图片字段\r\n  \r\n    formData.value.image_url = res.data.image_url\r\n    formData.value.thumbnail_url = res.data.thumbnail_url\r\n\r\n    uploadStatus.value = 'Upload Successful'\r\n  } catch (error) {\r\n    uploadStatus.value = 'Upload Failed'\r\n  }\r\n}\r\n\r\n// 关闭弹窗\r\nconst closeDialog = () => {\r\n  showDialog.value = false\r\n}\r\n\r\nonMounted(() => {\r\n  loadCategories()\r\n  loadProducts()\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n  /* 基础样式 */\r\n  .admin-container {\r\n    padding: 20px;\r\n    max-width: 1000px;\r\n    margin: 0 auto;\r\n  }\r\n  \r\n  .data-table {\r\n    width: 100%;\r\n    border-collapse: collapse;\r\n    margin-top: 20px;\r\n  }\r\n  \r\n  .data-table th,\r\n  .data-table td {\r\n    padding: 12px;\r\n    border: 1px solid #ddd;\r\n    text-align: left;\r\n  }\r\n  \r\n  .data-table th {\r\n    background-color: #f5f5f5;\r\n  }\r\n  \r\n  .actions {\r\n    min-width: 150px;\r\n  }\r\n  \r\n  .btn {\r\n    padding: 8px 16px;\r\n    border-radius: 4px;\r\n    cursor: pointer;\r\n    margin: 0 4px;\r\n    transition: all 0.3s;\r\n  }\r\n  \r\n  .btn.primary {\r\n    background-color: #409eff;\r\n    color: white;\r\n    border: 1px solid #409eff;\r\n  }\r\n  \r\n  .btn.edit {\r\n    background-color: #e6a23c;\r\n    color: white;\r\n    border: 1px solid #e6a23c;\r\n  }\r\n  \r\n  .btn.danger {\r\n    background-color: #f56c6c;\r\n    color: white;\r\n    border: 1px solid #f56c6c;\r\n  }\r\n  \r\n  /* 模态框样式 */\r\n  .modal {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background: rgba(0,0,0,0.5);\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n  \r\n  .modal-content {\r\n    background: white;\r\n    padding: 24px;\r\n    border-radius: 8px;\r\n    min-width: 400px;\r\n  }\r\n  \r\n  .form-group {\r\n    margin-bottom: 16px;\r\n  }\r\n  \r\n  .form-input {\r\n    width: 100%;\r\n    padding: 8px;\r\n    border: 1px solid #ddd;\r\n    border-radius: 4px;\r\n  }\r\n  \r\n  .form-actions {\r\n    margin-top: 20px;\r\n    text-align: right;\r\n  }\r\n  </style>"]}]}