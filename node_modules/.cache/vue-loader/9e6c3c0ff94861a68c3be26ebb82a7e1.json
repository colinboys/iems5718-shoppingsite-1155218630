{"remainingRequest":"D:\\IEMS5718web\\shop_demo\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\IEMS5718web\\shop_demo\\src\\App.vue?vue&type=template&id=7ba5bd90","dependencies":[{"path":"D:\\IEMS5718web\\shop_demo\\src\\App.vue","mtime":1746349569479},{"path":"D:\\IEMS5718web\\shop_demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746349774639},{"path":"D:\\IEMS5718web\\shop_demo\\node_modules\\babel-loader\\lib\\index.js","mtime":1746349776751},{"path":"D:\\IEMS5718web\\shop_demo\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1746349778863},{"path":"D:\\IEMS5718web\\shop_demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746349774639},{"path":"D:\\IEMS5718web\\shop_demo\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1746349777201}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPGRpdiBpZD0ibmF2Ij4KICAgIDx0ZW1wbGF0ZSB2LWlmID0gIiFpc0FkbWluIj4KICAgICAgPHJvdXRlci1saW5rIHRvPSIvIj5Ib21lPC9yb3V0ZXItbGluaz4gfAogICAgPHJvdXRlci1saW5rIHRvPSIvYWJvdXQiPkFib3V0PC9yb3V0ZXItbGluaz4gfAogICAgPC90ZW1wbGF0ZT4KICAgIAogICAgPHRlbXBsYXRlIHYtaWY9ImlzTG9nZ2VkSW4iPgogICAgICA8cm91dGVyLWxpbmsgdi1pZj0iaXNBZG1pbiIgdG89Ii9hZG1pbiI+QWRtaW4gUGFuZWwgIHwgPC9yb3V0ZXItbGluaz4KICAgICAgPCEtLSA8cm91dGVyLWxpbmsgdG89Ii9jaGFuZ2UtcGFzc3dvcmQiPkNoYW5nZSBQYXNzd29yZDwvcm91dGVyLWxpbms+IHwgLS0+CiAgICAgIDxyb3V0ZXItbGluayB2LWlmPSIhaXNBZG1pbiIgdG89Ii9vcmRlcnMiPk9yZGVycyB8IDwvcm91dGVyLWxpbms+CiAgICAgIDxhIGhyZWY9IiMiIEBjbGljay5wcmV2ZW50PSJoYW5kbGVMb2dvdXQiPkxvZ291dDwvYT4KICAgIDwvdGVtcGxhdGU+CiAgICA8dGVtcGxhdGUgdi1lbHNlPgogICAgICA8cm91dGVyLWxpbmsgdG89Ii9sb2dpbiI+TG9naW48L3JvdXRlci1saW5rPgogICAgPC90ZW1wbGF0ZT4KICA8L2Rpdj4KICA8c3Bhbj5XZWxjb21lLCB7eyB1c2VybmFtZSB8fCAnR3Vlc3QnIH19ITwvc3Bhbj4KICA8ZGl2IGlkPSJhcHAiPgogICAgPHJvdXRlci12aWV3Lz4KICAgIDxGb290ZXIgLz4KICA8L2Rpdj4K"},{"version":3,"sources":["D:\\IEMS5718web\\shop_demo\\src\\App.vue"],"names":[],"mappings":"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","file":"D:/IEMS5718web/shop_demo/src/App.vue","sourceRoot":"","sourcesContent":["<template>\n  <div id=\"nav\">\n    <template v-if = \"!isAdmin\">\n      <router-link to=\"/\">Home</router-link> |\n    <router-link to=\"/about\">About</router-link> |\n    </template>\n    \n    <template v-if=\"isLoggedIn\">\n      <router-link v-if=\"isAdmin\" to=\"/admin\">Admin Panel  | </router-link>\n      <!-- <router-link to=\"/change-password\">Change Password</router-link> | -->\n      <router-link v-if=\"!isAdmin\" to=\"/orders\">Orders | </router-link>\n      <a href=\"#\" @click.prevent=\"handleLogout\">Logout</a>\n    </template>\n    <template v-else>\n      <router-link to=\"/login\">Login</router-link>\n    </template>\n  </div>\n  <span>Welcome, {{ username || 'Guest' }}!</span>\n  <div id=\"app\">\n    <router-view/>\n    <Footer />\n  </div>\n</template>\n\n<script>\nimport Footer from \"./components/Footer.vue\";\nimport { mapGetters, mapActions } from 'vuex';\nimport { useStore } from 'vuex';\nimport { onMounted } from 'vue';\nimport request from '@/utils/request';\n\nexport default {\n  name: \"App\",\n  components: { Footer },\n  computed: {\n    ...mapGetters(['isLoggedIn', 'username', 'isAdmin'])\n  },\n  methods: {\n    ...mapActions(['logout']),\n    async handleLogout() {\n      try {\n        await request.post('/api/logout');\n        localStorage.removeItem('auth_token');\n        this.logout();\n        this.$router.push('/');\n      } catch (error) {\n        console.error('Logout failed:', error);\n      }\n    }\n  },\n  setup() {\n    const store = useStore();\n\n    onMounted(() => {\n      // 从 localStorage 恢复登录状态\n      const username = localStorage.getItem('username');\n      const isAdmin = localStorage.getItem('isAdmin') === 'true';\n      const token = localStorage.getItem('auth_token');\n      \n      if (token && username) {\n        store.dispatch('login', {\n          username,\n          isAdmin\n        });\n      }\n    });\n  }\n};\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n}\n\n#nav {\n  padding: 30px;\n}\n\n#nav a {\n  font-weight: bold;\n  color: #2c3e50;\n}\n\n#nav a.router-link-exact-active {\n  color: #42b983;\n}\n</style>\n"]}]}