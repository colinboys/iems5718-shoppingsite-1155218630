{"remainingRequest":"D:\\IEMS5718web\\shop_demo\\node_modules\\thread-loader\\dist\\cjs.js!D:\\IEMS5718web\\shop_demo\\node_modules\\babel-loader\\lib\\index.js!D:\\IEMS5718web\\shop_demo\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\IEMS5718web\\shop_demo\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\IEMS5718web\\shop_demo\\src\\views\\ProductAdmin.vue?vue&type=script&setup=true&lang=js","dependencies":[{"path":"D:\\IEMS5718web\\shop_demo\\src\\views\\ProductAdmin.vue","mtime":1746349268204},{"path":"D:\\IEMS5718web\\shop_demo\\babel.config.js","mtime":1738482584419},{"path":"D:\\IEMS5718web\\shop_demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746349774639},{"path":"D:\\IEMS5718web\\shop_demo\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1746349774611},{"path":"D:\\IEMS5718web\\shop_demo\\node_modules\\babel-loader\\lib\\index.js","mtime":1746349776751},{"path":"D:\\IEMS5718web\\shop_demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746349774639},{"path":"D:\\IEMS5718web\\shop_demo\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1746349777201}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXNuZXh0Lml0ZXJhdG9yLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXNuZXh0Lml0ZXJhdG9yLmZpbmQuanMiOwppbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZSwgcmVuZGVyTGlzdCBhcyBfcmVuZGVyTGlzdCwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2ssIHRvRGlzcGxheVN0cmluZyBhcyBfdG9EaXNwbGF5U3RyaW5nLCBjcmVhdGVDb21tZW50Vk5vZGUgYXMgX2NyZWF0ZUNvbW1lbnRWTm9kZSwgdk1vZGVsVGV4dCBhcyBfdk1vZGVsVGV4dCwgd2l0aERpcmVjdGl2ZXMgYXMgX3dpdGhEaXJlY3RpdmVzLCB2TW9kZWxTZWxlY3QgYXMgX3ZNb2RlbFNlbGVjdCwgd2l0aE1vZGlmaWVycyBhcyBfd2l0aE1vZGlmaWVycywgbm9ybWFsaXplQ2xhc3MgYXMgX25vcm1hbGl6ZUNsYXNzIH0gZnJvbSAidnVlIjsKY29uc3QgX2hvaXN0ZWRfMSA9IHsKICBjbGFzczogImFkbWluLWNvbnRhaW5lciIKfTsKY29uc3QgX2hvaXN0ZWRfMiA9IHsKICBjbGFzczogImRhdGEtdGFibGUiCn07CmNvbnN0IF9ob2lzdGVkXzMgPSBbInNyYyJdOwpjb25zdCBfaG9pc3RlZF80ID0gewogIGtleTogMQp9Owpjb25zdCBfaG9pc3RlZF81ID0gewogIGNsYXNzOiAiYWN0aW9ucyIKfTsKY29uc3QgX2hvaXN0ZWRfNiA9IFsib25DbGljayJdOwpjb25zdCBfaG9pc3RlZF83ID0gWyJvbkNsaWNrIl07CmNvbnN0IF9ob2lzdGVkXzggPSB7CiAga2V5OiAwLAogIGNsYXNzOiAibW9kYWwiCn07CmNvbnN0IF9ob2lzdGVkXzkgPSB7CiAgY2xhc3M6ICJtb2RhbC1jb250ZW50Igp9Owpjb25zdCBfaG9pc3RlZF8xMCA9IHsKICBjbGFzczogImZvcm0tZ3JvdXAiCn07CmNvbnN0IF9ob2lzdGVkXzExID0gewogIGNsYXNzOiAiZm9ybS1ncm91cCIKfTsKY29uc3QgX2hvaXN0ZWRfMTIgPSBbInZhbHVlIl07CmNvbnN0IF9ob2lzdGVkXzEzID0gewogIGNsYXNzOiAiZm9ybS1ncm91cCIKfTsKY29uc3QgX2hvaXN0ZWRfMTQgPSB7CiAgY2xhc3M6ICJmb3JtLWdyb3VwIgp9Owpjb25zdCBfaG9pc3RlZF8xNSA9IHsKICBjbGFzczogImZvcm0tZ3JvdXAiCn07CmNvbnN0IF9ob2lzdGVkXzE2ID0gewogIGtleTogMCwKICBjbGFzczogInVwbG9hZC1zdGF0dXMiCn07CmNvbnN0IF9ob2lzdGVkXzE3ID0gewogIGtleTogMAp9Owpjb25zdCBfaG9pc3RlZF8xOCA9IFsic3JjIl07CmltcG9ydCB7IHJlZiwgY29tcHV0ZWQsIG9uTW91bnRlZCB9IGZyb20gJ3Z1ZSc7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCByZXF1ZXN0IGZyb20gJ0AvdXRpbHMvcmVxdWVzdCc7CmV4cG9ydCBkZWZhdWx0IHsKICBfX25hbWU6ICdQcm9kdWN0QWRtaW4nLAogIHNldHVwKF9fcHJvcHMpIHsKICAgIGNvbnN0IHVybF9wcmVmaXggPSByZWYoImh0dHBzOi8vczIwLmllbXM1NzE4LmllLmN1aGsuZWR1LmhrOjgwMDAiKTsKICAgIC8vIGNvbnN0IHVybF9wcmVmaXggPSByZWYoImh0dHA6Ly9sb2NhbGhvc3Q6ODAwMCIpCiAgICAvLyDmlbDmja7nirbmgIEKICAgIGNvbnN0IHByb2R1Y3RzID0gcmVmKFtdKTsKICAgIGNvbnN0IGNhdGVnb3JpZXMgPSByZWYoW10pOwogICAgY29uc3Qgc2hvd0RpYWxvZyA9IHJlZihmYWxzZSk7CiAgICBjb25zdCBmb3JtRGF0YSA9IHJlZih7CiAgICAgIG5hbWU6ICcnLAogICAgICBjYXRpZDogJycsCiAgICAgIHByaWNlOiAwLAogICAgICBkZXNjcmlwdGlvbjogJycsCiAgICAgIGltYWdlX3VybDogJycsCiAgICAgIHRodW1ibmFpbF91cmw6ICcnCiAgICB9KTsKICAgIGNvbnN0IGN1cnJlbnRJZCA9IHJlZihudWxsKTsKICAgIGNvbnN0IGlzRWRpdE1vZGUgPSByZWYoZmFsc2UpOwogICAgY29uc3QgdXBsb2FkU3RhdHVzID0gcmVmKCcnKTsKICAgIGNvbnN0IHByZXZpZXcgPSByZWYoJycpOwogICAgY29uc3QgaXNEcmFnZ2luZyA9IHJlZihmYWxzZSk7CgogICAgLy8g6K6h566X5bGe5oCnCiAgICBjb25zdCBkaWFsb2dUaXRsZSA9IGNvbXB1dGVkKCgpID0+IGlzRWRpdE1vZGUudmFsdWUgPyAnRWRpdCBQcm9kdWN0JyA6ICdBZGQgUHJvZHVjdCcpOwoKICAgIC8vIOWKoOi9veWVhuWTgeaVsOaNrgogICAgY29uc3QgbG9hZFByb2R1Y3RzID0gYXN5bmMgKCkgPT4gewogICAgICAvLyBjb25zdCByZXMgPSBhd2FpdCBheGlvcy5nZXQoJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9hcGkvcHJvZHVjdHMnKQogICAgICBjb25zdCByZXMgPSBhd2FpdCByZXF1ZXN0LmdldCgnL2FwaS9wcm9kdWN0cycpOwogICAgICBwcm9kdWN0cy52YWx1ZSA9IHJlcy5kYXRhOwogICAgICBjb25zb2xlLmxvZyhwcm9kdWN0cy52YWx1ZSk7CiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvZHVjdHMudmFsdWUubGVuZ3RoOyBpKyspIHsKICAgICAgICAvLyBwcm9kdWN0cy52YWx1ZVtpXS5jYXRpZCA9IGNhdGVnb3JpZXMudmFsdWUuZmluZChpdGVtID0+IGl0ZW0uY2F0aWQgPT09IHByb2R1Y3RzLnZhbHVlW2ldLmNhdGlkKS5uYW1lCiAgICAgICAgLy8gcHJvZHVjdHMudmFsdWVbaV0uYXBwZW5kKCdjbmFtZScsY2F0ZWdvcmllcy52YWx1ZS5maW5kKGl0ZW0gPT4gaXRlbS5jYXRpZCA9PT0gcHJvZHVjdHMudmFsdWVbaV0uY2F0aWQpLm5hbWUgKQogICAgICAgIHByb2R1Y3RzLnZhbHVlW2ldLmNuYW1lID0gY2F0ZWdvcmllcy52YWx1ZS5maW5kKGl0ZW0gPT4gaXRlbS5jYXRpZCA9PT0gcHJvZHVjdHMudmFsdWVbaV0uY2F0aWQpLm5hbWU7CiAgICAgIH0KICAgIH07CgogICAgLy8g5Yqg6L295YiG57G75pWw5o2uCiAgICBjb25zdCBsb2FkQ2F0ZWdvcmllcyA9IGFzeW5jICgpID0+IHsKICAgICAgLy8gY29uc3QgcmVzID0gYXdhaXQgYXhpb3MuZ2V0KCdodHRwOi8vbG9jYWxob3N0OjgwMDAvYXBpL2NhdGVnb3JpZXMnKQogICAgICBjb25zdCByZXMgPSBhd2FpdCByZXF1ZXN0LmdldCgnL2FwaS9jYXRlZ29yaWVzJyk7CiAgICAgIGNhdGVnb3JpZXMudmFsdWUgPSByZXMuZGF0YTsKICAgIH07CgogICAgLy8g5pi+56S65Yib5bu65by556qXCiAgICBjb25zdCBzaG93Q3JlYXRlRGlhbG9nID0gKCkgPT4gewogICAgICBpc0VkaXRNb2RlLnZhbHVlID0gZmFsc2U7CiAgICAgIGZvcm1EYXRhLnZhbHVlID0gewogICAgICAgIG5hbWU6ICcnLAogICAgICAgIGNhdGlkOiAnJywKICAgICAgICBwcmljZTogMCwKICAgICAgICBkZXNjcmlwdGlvbjogJycsCiAgICAgICAgaW1hZ2VfdXJsOiAnJywKICAgICAgICB0aHVtYm5haWxfdXJsOiAnJwogICAgICB9OwogICAgICBzaG93RGlhbG9nLnZhbHVlID0gdHJ1ZTsKICAgIH07CgogICAgLy8g5pi+56S657yW6L6R5by556qXCiAgICBjb25zdCBzaG93RWRpdERpYWxvZyA9IGl0ZW0gPT4gewogICAgICBpc0VkaXRNb2RlLnZhbHVlID0gdHJ1ZTsKICAgICAgZm9ybURhdGEudmFsdWUgPSB7CiAgICAgICAgLi4uaXRlbQogICAgICB9OwogICAgICBjdXJyZW50SWQudmFsdWUgPSBpdGVtLnBpZDsKICAgICAgc2hvd0RpYWxvZy52YWx1ZSA9IHRydWU7CiAgICB9OwoKICAgIC8vIOihqOWNlemqjOivgeinhOWImQogICAgY29uc3QgdmFsaWRhdGVGb3JtID0gKCkgPT4gewogICAgICBpZiAoIWZvcm1EYXRhLnZhbHVlLm5hbWUudHJpbSgpKSB7CiAgICAgICAgYWxlcnQoJ1Byb2R1Y3QgbmFtZSBjYW4gbm90IGJlIGJsYW5rJyk7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIGlmICghZm9ybURhdGEudmFsdWUuY2F0aWQpIHsKICAgICAgICBhbGVydCgnUGxlYXNlIHNlbGVjdCBwcm9kdWN0IGNhdGVnb3J5Jyk7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIGlmIChmb3JtRGF0YS52YWx1ZS5wcmljZSA8PSAwKSB7CiAgICAgICAgYWxlcnQoJ1RoZSBwcmljZSBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwJyk7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIHJldHVybiB0cnVlOwogICAgfTsKCiAgICAvLyDmj5DkuqTooajljZUKICAgIGNvbnN0IHN1Ym1pdEZvcm0gPSBhc3luYyAoKSA9PiB7CiAgICAgIGlmICghdmFsaWRhdGVGb3JtKCkpIHJldHVybjsKICAgICAgdHJ5IHsKICAgICAgICBpZiAoaXNFZGl0TW9kZS52YWx1ZSkgewogICAgICAgICAgLy8gYXdhaXQgYXhpb3MucHV0KGBodHRwOi8vbG9jYWxob3N0OjgwMDAvYXBpL3Byb2R1Y3RzLyR7Y3VycmVudElkLnZhbHVlfWAsIGZvcm1EYXRhLnZhbHVlKQogICAgICAgICAgYXdhaXQgcmVxdWVzdC5wdXQoYC9hcGkvcHJvZHVjdHMvJHtjdXJyZW50SWQudmFsdWV9YCwgZm9ybURhdGEudmFsdWUsIHsKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogYCR7bG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2F1dGhfdG9rZW4nKX1gCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyBhd2FpdCBheGlvcy5wb3N0KCdodHRwOi8vbG9jYWxob3N0OjgwMDAvYXBpL3Byb2R1Y3RzJywgZm9ybURhdGEudmFsdWUpCiAgICAgICAgICBhd2FpdCByZXF1ZXN0LnBvc3QoJy9hcGkvcHJvZHVjdHMnLCBmb3JtRGF0YS52YWx1ZSwgewogICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgJHtsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYXV0aF90b2tlbicpfWAKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIGF3YWl0IGxvYWRQcm9kdWN0cygpOwogICAgICAgIGNsb3NlRGlhbG9nKCk7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcign5pON5L2c5aSx6LSlOicsIGVycm9yKTsKICAgICAgfQogICAgfTsKCiAgICAvLyDliKDpmaTmnaHnm64KICAgIGNvbnN0IGRlbGV0ZUl0ZW0gPSBhc3luYyBpZCA9PiB7CiAgICAgIGlmIChjb25maXJtKCdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgcHJvZHVjdD8nKSkgewogICAgICAgIC8vIGF3YWl0IGF4aW9zLmRlbGV0ZShgaHR0cDovL2xvY2FsaG9zdDo4MDAwL2FwaS9wcm9kdWN0cy8ke2lkfWApCiAgICAgICAgYXdhaXQgcmVxdWVzdC5kZWxldGUoYC9hcGkvcHJvZHVjdHMvJHtpZH1gLCB7CiAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogYCR7bG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2F1dGhfdG9rZW4nKX1gCiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgYXdhaXQgbG9hZFByb2R1Y3RzKCk7CiAgICAgICAgY29uZmlybSgnRGVsZXRlIFN1Y2Nlc3NmdWwnKTsKICAgICAgfQogICAgfTsKCiAgICAvLyDmlofku7bkuIrkvKDlpITnkIYKICAgIGNvbnN0IGhhbmRsZUZpbGVVcGxvYWQgPSBhc3luYyBlID0+IHsKICAgICAgY29uc3QgZmlsZSA9IGUudGFyZ2V0LmZpbGVzWzBdOwogICAgICBpZiAoIWZpbGUpIHJldHVybjsKICAgICAgY29uc3QgZm9ybURhdGExID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgIGZvcm1EYXRhMS5hcHBlbmQoJ2ZpbGUnLCBmaWxlKTsKICAgICAgdHJ5IHsKICAgICAgICAvLyBjb25zdCByZXMgPSBhd2FpdCBheGlvcy5wb3N0KCdodHRwOi8vbG9jYWxob3N0OjgwMDAvYXBpL3VwbG9hZC1pbWFnZScsIGZvcm1EYXRhMSwgewogICAgICAgIC8vICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ211bHRpcGFydC9mb3JtLWRhdGEnIH0KICAgICAgICAvLyB9KQogICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHJlcXVlc3QucG9zdCgnL2FwaS91cGxvYWQtaW1hZ2UnLCBmb3JtRGF0YTEsIHsKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIC8vIOabtOaWsOihqOWNleWbvueJh+Wtl+autQoKICAgICAgICBmb3JtRGF0YS52YWx1ZS5pbWFnZV91cmwgPSByZXMuZGF0YS5pbWFnZV91cmw7CiAgICAgICAgZm9ybURhdGEudmFsdWUudGh1bWJuYWlsX3VybCA9IHJlcy5kYXRhLnRodW1ibmFpbF91cmw7CiAgICAgICAgdXBsb2FkU3RhdHVzLnZhbHVlID0gJ1VwbG9hZCBTdWNjZXNzZnVsJzsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICB1cGxvYWRTdGF0dXMudmFsdWUgPSAnVXBsb2FkIEZhaWxlZCc7CiAgICAgIH0KICAgIH07CgogICAgLy8g5aSE55CG5ouW5pS+5LiK5LygCiAgICBjb25zdCBoYW5kbGVEcmFnT3ZlciA9IGUgPT4gewogICAgICBpc0RyYWdnaW5nLnZhbHVlID0gdHJ1ZTsKICAgIH07CiAgICBjb25zdCBoYW5kbGVEcmFnTGVhdmUgPSBlID0+IHsKICAgICAgaXNEcmFnZ2luZy52YWx1ZSA9IGZhbHNlOwogICAgfTsKICAgIGNvbnN0IGhhbmRsZURyb3AgPSBlID0+IHsKICAgICAgaXNEcmFnZ2luZy52YWx1ZSA9IGZhbHNlOwogICAgICBjb25zdCBmaWxlID0gZS5kYXRhVHJhbnNmZXIuZmlsZXNbMF07CiAgICAgIGlmIChmaWxlICYmIGZpbGUudHlwZS5zdGFydHNXaXRoKCdpbWFnZS8nKSkgewogICAgICAgIGhhbmRsZUltYWdlKGZpbGUpOwogICAgICB9IGVsc2UgewogICAgICAgIGFsZXJ0KCdQbGVhc2UgZHJvcCBhbiBpbWFnZSBmaWxlJyk7CiAgICAgIH0KICAgIH07CiAgICBjb25zdCBoYW5kbGVGaWxlU2VsZWN0ID0gZSA9PiB7CiAgICAgIGNvbnN0IGZpbGUgPSBlLnRhcmdldC5maWxlc1swXTsKICAgICAgaWYgKGZpbGUpIHsKICAgICAgICBoYW5kbGVJbWFnZShmaWxlKTsKICAgICAgfQogICAgfTsKICAgIGNvbnN0IGhhbmRsZUltYWdlID0gZXZlbnQgPT4gewogICAgICBjb25zdCBmaWxlID0gZXZlbnQudGFyZ2V0LmZpbGVzWzBdIHx8IGV2ZW50LmRhdGFUcmFuc2Zlci5maWxlc1swXTsKICAgICAgaWYgKCFmaWxlKSByZXR1cm47CgogICAgICAvLyDpqozor4Hmlofku7bnsbvlnovlkozlpKflsI8KICAgICAgaWYgKCFmaWxlLnR5cGUuc3RhcnRzV2l0aCgnaW1hZ2UvJykpIHsKICAgICAgICBhbGVydCgnUGxlYXNlIHNlbGVjdCBhbiBpbWFnZSBmaWxlJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGlmIChmaWxlLnNpemUgPiA1ICogMTAyNCAqIDEwMjQpIHsKICAgICAgICAvLyA1TULpmZDliLYKICAgICAgICBhbGVydCgnSW1hZ2Ugc2l6ZSBzaG91bGQgYmUgbGVzcyB0aGFuIDVNQicpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgLy8g5Yib5bu66aKE6KeICiAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CiAgICAgIHJlYWRlci5vbmxvYWQgPSBlID0+IHsKICAgICAgICBwcmV2aWV3LnZhbHVlID0gZS50YXJnZXQucmVzdWx0OwogICAgICB9OwogICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTsKCiAgICAgIC8vIOS4iuS8oOWbvueJhwogICAgICB1cGxvYWRJbWFnZShmaWxlKTsKICAgIH07CiAgICBjb25zdCB1cGxvYWRJbWFnZSA9IGFzeW5jIGZpbGUgPT4gewogICAgICBjb25zdCBmb3JtRGF0YTEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgZm9ybURhdGExLmFwcGVuZCgnZmlsZScsIGZpbGUpOwogICAgICB0cnkgewogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdC5wb3N0KCcvYXBpL3VwbG9hZC1pbWFnZScsIGZvcm1EYXRhMSwgewogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ211bHRpcGFydC9mb3JtLWRhdGEnLAogICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IGAke2xvY2FsU3RvcmFnZS5nZXRJdGVtKCdhdXRoX3Rva2VuJyl9YAogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIGZvcm1EYXRhLnZhbHVlLmltYWdlX3VybCA9IHJlc3BvbnNlLmRhdGEuaW1hZ2VfdXJsOwogICAgICAgIGZvcm1EYXRhLnZhbHVlLnRodW1ibmFpbF91cmwgPSByZXNwb25zZS5kYXRhLnRodW1ibmFpbF91cmw7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHVwbG9hZCBpbWFnZTonLCBlcnJvcik7CiAgICAgICAgYWxlcnQoJ0ZhaWxlZCB0byB1cGxvYWQgaW1hZ2UnKTsKICAgICAgfQogICAgfTsKICAgIGNvbnN0IGNsZWFySW1hZ2UgPSAoKSA9PiB7CiAgICAgIHByZXZpZXcudmFsdWUgPSAnJzsKICAgICAgZm9ybURhdGEudmFsdWUuaW1hZ2VfdXJsID0gJyc7CiAgICAgIGZvcm1EYXRhLnZhbHVlLnRodW1ibmFpbF91cmwgPSAnJzsKICAgICAgaWYgKGZpbGVJbnB1dC52YWx1ZSkgewogICAgICAgIGZpbGVJbnB1dC52YWx1ZS52YWx1ZSA9ICcnOwogICAgICB9CiAgICB9OwoKICAgIC8vIOWFs+mXreW8ueeqlwogICAgY29uc3QgY2xvc2VEaWFsb2cgPSAoKSA9PiB7CiAgICAgIHNob3dEaWFsb2cudmFsdWUgPSBmYWxzZTsKICAgIH07CiAgICBvbk1vdW50ZWQoKCkgPT4gewogICAgICBsb2FkQ2F0ZWdvcmllcygpOwogICAgICBsb2FkUHJvZHVjdHMoKTsKICAgIH0pOwogICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IHsKICAgICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICAgICAgICBjbGFzczogImFjdGlvbi1iYXIiCiAgICAgIH0sIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJidXR0b24iLCB7CiAgICAgICAgY2xhc3M6ICJidG4gcHJpbWFyeSIsCiAgICAgICAgb25DbGljazogc2hvd0NyZWF0ZURpYWxvZwogICAgICB9LCAiQWRkIFByb2R1Y3QiKV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJ0YWJsZSIsIF9ob2lzdGVkXzIsIFtfY2FjaGVbNF0gfHwgKF9jYWNoZVs0XSA9IF9jcmVhdGVFbGVtZW50Vk5vZGUoInRoZWFkIiwgbnVsbCwgW19jcmVhdGVFbGVtZW50Vk5vZGUoInRyIiwgbnVsbCwgW19jcmVhdGVFbGVtZW50Vk5vZGUoInRoIiwgbnVsbCwgIklEIiksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInRoIiwgbnVsbCwgIlByb29kdWN0IE5hbWUiKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgidGgiLCBudWxsLCAiQ2F0ZWdvcnkiKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgidGgiLCBudWxsLCAiUHJpY2UiKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgidGgiLCBudWxsLCAiRGVzY3JpcHRpb24iKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgidGgiLCBudWxsLCAiUGljdHVyZSIpLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJ0aCIsIG51bGwsICJPcGVyYXRpb24iKV0pXSwgLTEpKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgidGJvZHkiLCBudWxsLCBbKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBfcmVuZGVyTGlzdChwcm9kdWN0cy52YWx1ZSwgaXRlbSA9PiB7CiAgICAgICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygidHIiLCB7CiAgICAgICAgICBrZXk6IGl0ZW0ucGlkCiAgICAgICAgfSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoInRkIiwgbnVsbCwgX3RvRGlzcGxheVN0cmluZyhpdGVtLnBpZCksIDEpLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJ0ZCIsIG51bGwsIF90b0Rpc3BsYXlTdHJpbmcoaXRlbS5uYW1lKSwgMSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInRkIiwgbnVsbCwgX3RvRGlzcGxheVN0cmluZyhpdGVtLmNuYW1lKSwgMSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInRkIiwgbnVsbCwgX3RvRGlzcGxheVN0cmluZyhpdGVtLnByaWNlKSwgMSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInRkIiwgbnVsbCwgX3RvRGlzcGxheVN0cmluZyhpdGVtLmRlc2NyaXB0aW9uKSwgMSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInRkIiwgbnVsbCwgW2l0ZW0udGh1bWJuYWlsX3VybCA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImltZyIsIHsKICAgICAgICAgIGtleTogMCwKICAgICAgICAgIHNyYzogdXJsX3ByZWZpeC52YWx1ZSArIGl0ZW0udGh1bWJuYWlsX3VybCwKICAgICAgICAgIGNsYXNzOiAidGh1bWJuYWlsIgogICAgICAgIH0sIG51bGwsIDgsIF9ob2lzdGVkXzMpKSA6IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soInNwYW4iLCBfaG9pc3RlZF80LCAiTm90IEZvdW5kIEltYWdlIikpXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInRkIiwgX2hvaXN0ZWRfNSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImJ1dHRvbiIsIHsKICAgICAgICAgIGNsYXNzOiAiYnRuIGVkaXQiLAogICAgICAgICAgb25DbGljazogJGV2ZW50ID0+IHNob3dFZGl0RGlhbG9nKGl0ZW0pCiAgICAgICAgfSwgIkVkaXQiLCA4LCBfaG9pc3RlZF82KSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiYnV0dG9uIiwgewogICAgICAgICAgY2xhc3M6ICJidG4gZGFuZ2VyIiwKICAgICAgICAgIG9uQ2xpY2s6ICRldmVudCA9PiBkZWxldGVJdGVtKGl0ZW0ucGlkKQogICAgICAgIH0sICJEZWxldGUiLCA4LCBfaG9pc3RlZF83KV0pXSk7CiAgICAgIH0pLCAxMjgpKV0pXSksIHNob3dEaWFsb2cudmFsdWUgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF84LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfOSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImgzIiwgbnVsbCwgX3RvRGlzcGxheVN0cmluZyhkaWFsb2dUaXRsZS52YWx1ZSksIDEpLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJmb3JtIiwgewogICAgICAgIG9uU3VibWl0OiBfd2l0aE1vZGlmaWVycyhzdWJtaXRGb3JtLCBbInByZXZlbnQiXSkKICAgICAgfSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzEwLCBbX2NhY2hlWzVdIHx8IChfY2FjaGVbNV0gPSBfY3JlYXRlRWxlbWVudFZOb2RlKCJsYWJlbCIsIG51bGwsICJOYW1lIiwgLTEpKSwgX3dpdGhEaXJlY3RpdmVzKF9jcmVhdGVFbGVtZW50Vk5vZGUoImlucHV0IiwgewogICAgICAgIHR5cGU6ICJ0ZXh0IiwKICAgICAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVswXSB8fCAoX2NhY2hlWzBdID0gJGV2ZW50ID0+IGZvcm1EYXRhLnZhbHVlLm5hbWUgPSAkZXZlbnQpLAogICAgICAgIHJlcXVpcmVkOiAiIiwKICAgICAgICBjbGFzczogImZvcm0taW5wdXQiCiAgICAgIH0sIG51bGwsIDUxMiksIFtbX3ZNb2RlbFRleHQsIGZvcm1EYXRhLnZhbHVlLm5hbWVdXSldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMTEsIFtfY2FjaGVbNl0gfHwgKF9jYWNoZVs2XSA9IF9jcmVhdGVFbGVtZW50Vk5vZGUoImxhYmVsIiwgbnVsbCwgIkNhdGVnb3J5IiwgLTEpKSwgX3dpdGhEaXJlY3RpdmVzKF9jcmVhdGVFbGVtZW50Vk5vZGUoInNlbGVjdCIsIHsKICAgICAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVsxXSB8fCAoX2NhY2hlWzFdID0gJGV2ZW50ID0+IGZvcm1EYXRhLnZhbHVlLmNhdGlkID0gJGV2ZW50KSwKICAgICAgICByZXF1aXJlZDogIiIsCiAgICAgICAgY2xhc3M6ICJmb3JtLWlucHV0IgogICAgICB9LCBbKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBfcmVuZGVyTGlzdChjYXRlZ29yaWVzLnZhbHVlLCBjYXRlZ29yeSA9PiB7CiAgICAgICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygib3B0aW9uIiwgewogICAgICAgICAga2V5OiBjYXRlZ29yeS5jYXRpZCwKICAgICAgICAgIHZhbHVlOiBjYXRlZ29yeS5jYXRpZAogICAgICAgIH0sIF90b0Rpc3BsYXlTdHJpbmcoY2F0ZWdvcnkubmFtZSksIDksIF9ob2lzdGVkXzEyKTsKICAgICAgfSksIDEyOCkpXSwgNTEyKSwgW1tfdk1vZGVsU2VsZWN0LCBmb3JtRGF0YS52YWx1ZS5jYXRpZF1dKV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xMywgW19jYWNoZVs3XSB8fCAoX2NhY2hlWzddID0gX2NyZWF0ZUVsZW1lbnRWTm9kZSgibGFiZWwiLCBudWxsLCAiUHJpY2UiLCAtMSkpLCBfd2l0aERpcmVjdGl2ZXMoX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaW5wdXQiLCB7CiAgICAgICAgdHlwZTogIm51bWJlciIsCiAgICAgICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMl0gfHwgKF9jYWNoZVsyXSA9ICRldmVudCA9PiBmb3JtRGF0YS52YWx1ZS5wcmljZSA9ICRldmVudCksCiAgICAgICAgc3RlcDogIjAuMDEiLAogICAgICAgIHJlcXVpcmVkOiAiIiwKICAgICAgICBjbGFzczogImZvcm0taW5wdXQiCiAgICAgIH0sIG51bGwsIDUxMiksIFtbX3ZNb2RlbFRleHQsIGZvcm1EYXRhLnZhbHVlLnByaWNlXV0pXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzE0LCBbX2NhY2hlWzhdIHx8IChfY2FjaGVbOF0gPSBfY3JlYXRlRWxlbWVudFZOb2RlKCJsYWJlbCIsIG51bGwsICJEZXNjcmlwdGlvbiIsIC0xKSksIF93aXRoRGlyZWN0aXZlcyhfY3JlYXRlRWxlbWVudFZOb2RlKCJ0ZXh0YXJlYSIsIHsKICAgICAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVszXSB8fCAoX2NhY2hlWzNdID0gJGV2ZW50ID0+IGZvcm1EYXRhLnZhbHVlLmRlc2NyaXB0aW9uID0gJGV2ZW50KSwKICAgICAgICBjbGFzczogImZvcm0taW5wdXQiCiAgICAgIH0sIG51bGwsIDUxMiksIFtbX3ZNb2RlbFRleHQsIGZvcm1EYXRhLnZhbHVlLmRlc2NyaXB0aW9uXV0pXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzE1LCBbX2NhY2hlWzldIHx8IChfY2FjaGVbOV0gPSBfY3JlYXRlRWxlbWVudFZOb2RlKCJsYWJlbCIsIG51bGwsICJVcGxvYWQgUGljdHVyZSIsIC0xKSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImlucHV0IiwgewogICAgICAgIHR5cGU6ICJmaWxlIiwKICAgICAgICBvbkNoYW5nZTogaGFuZGxlSW1hZ2UsCiAgICAgICAgYWNjZXB0OiAiaW1hZ2UvKiIsCiAgICAgICAgcmVmOiAiZmlsZUlucHV0IgogICAgICB9LCBudWxsLCA1NDQpLCB1cGxvYWRTdGF0dXMudmFsdWUgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF8xNiwgX3RvRGlzcGxheVN0cmluZyh1cGxvYWRTdGF0dXMudmFsdWUpLCAxKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCIiLCB0cnVlKV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCB7CiAgICAgICAgY2xhc3M6IF9ub3JtYWxpemVDbGFzcyhbImRyb3Atem9uZSIsIHsKICAgICAgICAgICdkcmFnLW92ZXInOiBpc0RyYWdnaW5nLnZhbHVlCiAgICAgICAgfV0pLAogICAgICAgIG9uRHJvcDogX3dpdGhNb2RpZmllcnMoaGFuZGxlRHJvcCwgWyJwcmV2ZW50Il0pLAogICAgICAgIG9uRHJhZ292ZXI6IF93aXRoTW9kaWZpZXJzKGhhbmRsZURyYWdPdmVyLCBbInByZXZlbnQiXSksCiAgICAgICAgb25EcmFnbGVhdmU6IF93aXRoTW9kaWZpZXJzKGhhbmRsZURyYWdMZWF2ZSwgWyJwcmV2ZW50Il0pCiAgICAgIH0sIFshcHJldmlldy52YWx1ZSA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soInNwYW4iLCBfaG9pc3RlZF8xNywgIkRyYWcgJiBkcm9wIGltYWdlIGhlcmUgb3IgY2xpY2sgdG8gdXBsb2FkIikpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgiIiwgdHJ1ZSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImlucHV0IiwgewogICAgICAgIHR5cGU6ICJmaWxlIiwKICAgICAgICByZWY6ICJmaWxlSW5wdXQiLAogICAgICAgIG9uQ2hhbmdlOiBoYW5kbGVGaWxlU2VsZWN0LAogICAgICAgIGFjY2VwdDogImltYWdlLyoiLAogICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAiZGlzcGxheSI6ICJub25lIgogICAgICAgIH0KICAgICAgfSwgbnVsbCwgNTQ0KSwgcHJldmlldy52YWx1ZSA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImltZyIsIHsKICAgICAgICBrZXk6IDEsCiAgICAgICAgc3JjOiBwcmV2aWV3LnZhbHVlLAogICAgICAgIGNsYXNzOiAiaW1hZ2UtcHJldmlldyIsCiAgICAgICAgYWx0OiAiUHJldmlldyIKICAgICAgfSwgbnVsbCwgOCwgX2hvaXN0ZWRfMTgpKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoIiIsIHRydWUpLCBwcmV2aWV3LnZhbHVlID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiYnV0dG9uIiwgewogICAgICAgIGtleTogMiwKICAgICAgICBvbkNsaWNrOiBfd2l0aE1vZGlmaWVycyhjbGVhckltYWdlLCBbInByZXZlbnQiXSksCiAgICAgICAgY2xhc3M6ICJjbGVhci1pbWFnZSIKICAgICAgfSwgIsOXIikpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgiIiwgdHJ1ZSldLCAzNCksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICAgICAgICBjbGFzczogImZvcm0tYWN0aW9ucyIKICAgICAgfSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImJ1dHRvbiIsIHsKICAgICAgICB0eXBlOiAiYnV0dG9uIiwKICAgICAgICBjbGFzczogImJ0biIsCiAgICAgICAgb25DbGljazogY2xvc2VEaWFsb2cKICAgICAgfSwgIkNhbmNlbCIpLCBfY2FjaGVbMTBdIHx8IChfY2FjaGVbMTBdID0gX2NyZWF0ZUVsZW1lbnRWTm9kZSgiYnV0dG9uIiwgewogICAgICAgIHR5cGU6ICJzdWJtaXQiLAogICAgICAgIGNsYXNzOiAiYnRuIHByaW1hcnkiCiAgICAgIH0sICJTdWJtaXQiLCAtMSkpXSldLCAzMildKV0pKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoIiIsIHRydWUpXSk7CiAgICB9OwogIH0KfTs="},{"version":3,"names":["ref","computed","onMounted","axios","request","url_prefix","products","categories","showDialog","formData","name","catid","price","description","image_url","thumbnail_url","currentId","isEditMode","uploadStatus","preview","isDragging","dialogTitle","value","loadProducts","res","get","data","console","log","i","length","cname","find","item","loadCategories","showCreateDialog","showEditDialog","pid","validateForm","trim","alert","submitForm","put","headers","localStorage","getItem","post","closeDialog","error","deleteItem","id","confirm","delete","handleFileUpload","e","file","target","files","formData1","FormData","append","handleDragOver","handleDragLeave","handleDrop","dataTransfer","type","startsWith","handleImage","handleFileSelect","event","size","reader","FileReader","onload","result","readAsDataURL","uploadImage","response","clearImage","fileInput"],"sources":["D:/IEMS5718web/shop_demo/src/views/ProductAdmin.vue"],"sourcesContent":["<!-- ProductAdmin.vue -->\r\n<template>\r\n  <div class=\"admin-container\">\r\n    <!-- 操作按钮组 -->\r\n    <div class=\"action-bar\">\r\n      <button class=\"btn primary\" @click=\"showCreateDialog\">Add Product</button>\r\n    </div>\r\n\r\n    <!-- 数据表格 -->\r\n    <table class=\"data-table\">\r\n      <thead>\r\n        <tr>\r\n          <th>ID</th>\r\n          <th>Prooduct Name</th>\r\n          <th>Category</th>\r\n          <th>Price</th>\r\n          <th>Description</th>\r\n          <th>Picture</th>\r\n          <th>Operation</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"item in products\" :key=\"item.pid\">\r\n          <td>{{ item.pid }}</td>\r\n          <td>{{ item.name }}</td>\r\n          <td>{{ item.cname }}</td>\r\n          <td>{{ item.price }}</td>\r\n          <td>{{ item.description }}</td>\r\n          <td>\r\n            <img \r\n              v-if=\"item.thumbnail_url\" \r\n              :src=\"url_prefix+item.thumbnail_url\" \r\n              class=\"thumbnail\"\r\n            >\r\n            <span v-else>Not Found Image</span>\r\n          </td>\r\n          <td class=\"actions\">\r\n            <button class=\"btn edit\" @click=\"showEditDialog(item)\">Edit</button>\r\n            <button class=\"btn danger\" @click=\"deleteItem(item.pid)\">Delete</button>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n\r\n    <!-- 弹窗 -->\r\n    <div v-if=\"showDialog\" class=\"modal\">\r\n      <div class=\"modal-content\">\r\n        <h3>{{ dialogTitle }}</h3>\r\n        <form @submit.prevent=\"submitForm\">\r\n          <div class=\"form-group\">\r\n            <label>Name</label>\r\n            <input \r\n              type=\"text\" \r\n              v-model=\"formData.name\" \r\n              required\r\n              class=\"form-input\"\r\n            >\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label>Category</label>\r\n            <select \r\n              v-model=\"formData.catid\" \r\n              required\r\n              class=\"form-input\"\r\n            >\r\n              <option \r\n                v-for=\"category in categories\" \r\n                :key=\"category.catid\" \r\n                :value=\"category.catid\"\r\n              >\r\n                {{ category.name }}\r\n              </option>\r\n            </select>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label>Price</label>\r\n            <input \r\n              type=\"number\" \r\n              v-model=\"formData.price\" \r\n              step=\"0.01\"\r\n              required\r\n              class=\"form-input\"\r\n            >\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label>Description</label>\r\n            <textarea \r\n              v-model=\"formData.description\" \r\n              class=\"form-input\"\r\n            ></textarea>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label>Upload Picture</label>\r\n            <input \r\n              type=\"file\" \r\n              @change=\"handleImage\"\r\n              accept=\"image/*\"\r\n              ref=\"fileInput\"\r\n            >\r\n            <!-- <div v-if=\"preview\" class=\"preview-container\">\r\n              <img :src=\"preview\" class=\"preview-image\" alt=\"Preview\">\r\n              <button @click=\"clearImage\" class=\"clear-preview\">×</button>\r\n            </div> -->\r\n            <div v-if=\"uploadStatus\" class=\"upload-status\">\r\n              {{ uploadStatus }}\r\n            </div>\r\n          </div>\r\n\r\n          <!-- 添加拖放上传区域 -->\r\n          <div \r\n            class=\"drop-zone\"\r\n            @drop.prevent=\"handleDrop\"\r\n            @dragover.prevent=\"handleDragOver\"\r\n            @dragleave.prevent=\"handleDragLeave\"\r\n            :class=\"{ 'drag-over': isDragging }\"\r\n          >\r\n            <span v-if=\"!preview\">Drag & drop image here or click to upload</span>\r\n            <input \r\n              type=\"file\" \r\n              ref=\"fileInput\" \r\n              @change=\"handleFileSelect\" \r\n              accept=\"image/*\"\r\n              style=\"display: none\"\r\n            >\r\n            <img v-if=\"preview\" :src=\"preview\" class=\"image-preview\" alt=\"Preview\">\r\n            <button v-if=\"preview\" @click.prevent=\"clearImage\" class=\"clear-image\">×</button>\r\n          </div>\r\n\r\n          <div class=\"form-actions\">\r\n            <button type=\"button\" class=\"btn\" @click=\"closeDialog\">Cancel</button>\r\n            <button type=\"submit\" class=\"btn primary\">Submit</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed, onMounted } from 'vue'\r\nimport axios from 'axios'\r\nimport request from '@/utils/request'\r\n\r\nconst url_prefix = ref(\"https://s20.iems5718.ie.cuhk.edu.hk:8000\")\r\n// const url_prefix = ref(\"http://localhost:8000\")\r\n// 数据状态\r\nconst products = ref([])\r\nconst categories = ref([])\r\nconst showDialog = ref(false)\r\nconst formData = ref({\r\n  name: '',\r\n  catid: '',\r\n  price: 0,\r\n  description: '',\r\n  image_url: '',\r\n  thumbnail_url: ''\r\n})\r\nconst currentId = ref(null)\r\nconst isEditMode = ref(false)\r\nconst uploadStatus = ref('')\r\nconst preview = ref('')\r\nconst isDragging = ref(false)\r\n\r\n// 计算属性\r\nconst dialogTitle = computed(() => \r\n  isEditMode.value ? 'Edit Product' : 'Add Product'\r\n)\r\n\r\n// 加载商品数据\r\nconst loadProducts = async () => {\r\n  \r\n  // const res = await axios.get('http://localhost:8000/api/products')\r\n  const res = await request.get('/api/products')\r\n  products.value = res.data\r\n  console.log(products.value)\r\n  for (let i = 0; i < products.value.length; i++) {\r\n    // products.value[i].catid = categories.value.find(item => item.catid === products.value[i].catid).name\r\n    // products.value[i].append('cname',categories.value.find(item => item.catid === products.value[i].catid).name )\r\n    products.value[i].cname  = categories.value.find(item => item.catid === products.value[i].catid).name \r\n  }\r\n}\r\n\r\n// 加载分类数据\r\nconst loadCategories = async () => {\r\n  // const res = await axios.get('http://localhost:8000/api/categories')\r\n  const res = await request.get('/api/categories')\r\n  categories.value = res.data\r\n}\r\n\r\n// 显示创建弹窗\r\nconst showCreateDialog = () => {\r\n  isEditMode.value = false\r\n  formData.value = {\r\n    name: '',\r\n    catid: '',\r\n    price: 0,\r\n    description: '',\r\n    image_url: '',\r\n    thumbnail_url: ''\r\n  }\r\n  showDialog.value = true\r\n}\r\n\r\n// 显示编辑弹窗\r\nconst showEditDialog = (item) => {\r\n  isEditMode.value = true\r\n  formData.value = { ...item }\r\n  currentId.value = item.pid\r\n  showDialog.value = true\r\n}\r\n\r\n\r\n// 表单验证规则\r\nconst validateForm = () => {\r\n  if (!formData.value.name.trim()) {\r\n    alert('Product name can not be blank')\r\n    return false\r\n  }\r\n  if (!formData.value.catid) {\r\n    alert('Please select product category')\r\n    return false\r\n  }\r\n  if (formData.value.price <= 0) {\r\n    alert('The price must be greater than 0')\r\n    return false\r\n  }\r\n  return true\r\n}\r\n\r\n// 提交表单\r\nconst submitForm = async () => {\r\n  if (!validateForm()) return\r\n  try {\r\n    if (isEditMode.value) {\r\n      // await axios.put(`http://localhost:8000/api/products/${currentId.value}`, formData.value)\r\n      await request.put(`/api/products/${currentId.value}`, formData.value, {\r\n      headers: { 'Authorization': `${localStorage.getItem('auth_token')}` }\r\n    })\r\n    } else {\r\n      // await axios.post('http://localhost:8000/api/products', formData.value)\r\n      await request.post('/api/products', formData.value, {\r\n      headers: { 'Authorization': `${localStorage.getItem('auth_token')}` }\r\n    })\r\n    }\r\n\r\n    await loadProducts()\r\n    closeDialog()\r\n  } catch (error) {\r\n    console.error('操作失败:', error)\r\n  }\r\n}\r\n\r\n// 删除条目\r\nconst deleteItem = async (id) => {\r\n  if (confirm('Are you sure you want to delete this product?')) {\r\n    // await axios.delete(`http://localhost:8000/api/products/${id}`)\r\n    await request.delete(`/api/products/${id}`, {\r\n      headers: { 'Authorization': `${localStorage.getItem('auth_token')}` }\r\n    })\r\n    await loadProducts()\r\n    confirm('Delete Successful')\r\n  }\r\n}\r\n\r\n// 文件上传处理\r\nconst handleFileUpload = async (e) => {\r\n  const file = e.target.files[0]\r\n  if (!file) return\r\n\r\n  const formData1 = new FormData()\r\n  formData1.append('file', file)\r\n\r\n  try {\r\n    // const res = await axios.post('http://localhost:8000/api/upload-image', formData1, {\r\n    //   headers: { 'Content-Type': 'multipart/form-data' }\r\n    // })\r\n    const res = await request.post('/api/upload-image', formData1, {\r\n      headers: { 'Content-Type': 'multipart/form-data' }\r\n    })\r\n    // 更新表单图片字段\r\n  \r\n    formData.value.image_url = res.data.image_url\r\n    formData.value.thumbnail_url = res.data.thumbnail_url\r\n\r\n    uploadStatus.value = 'Upload Successful'\r\n  } catch (error) {\r\n    uploadStatus.value = 'Upload Failed'\r\n  }\r\n}\r\n\r\n// 处理拖放上传\r\nconst handleDragOver = (e) => {\r\n  isDragging.value = true\r\n}\r\n\r\nconst handleDragLeave = (e) => {\r\n  isDragging.value = false\r\n}\r\n\r\nconst handleDrop = (e) => {\r\n  isDragging.value = false\r\n  const file = e.dataTransfer.files[0]\r\n  if (file && file.type.startsWith('image/')) {\r\n    handleImage(file)\r\n  } else {\r\n    alert('Please drop an image file')\r\n  }\r\n}\r\n\r\nconst handleFileSelect = (e) => {\r\n  const file = e.target.files[0]\r\n  if (file) {\r\n    handleImage(file)\r\n  }\r\n}\r\n\r\nconst handleImage = (event) => {\r\n  const file = event.target.files[0] || event.dataTransfer.files[0];\r\n  \r\n  if (!file) return;\r\n\r\n  // 验证文件类型和大小\r\n  if (!file.type.startsWith('image/')) {\r\n    alert('Please select an image file');\r\n    return;\r\n  }\r\n  if (file.size > 5 * 1024 * 1024) { // 5MB限制\r\n    alert('Image size should be less than 5MB');\r\n    return;\r\n  }\r\n\r\n  // 创建预览\r\n  const reader = new FileReader();\r\n  reader.onload = (e) => {\r\n    preview.value = e.target.result;\r\n  };\r\n  reader.readAsDataURL(file);\r\n\r\n  // 上传图片\r\n  uploadImage(file);\r\n};\r\n\r\nconst uploadImage = async (file) => {\r\n  const formData1 = new FormData()\r\n  formData1.append('file', file)\r\n  \r\n  try {\r\n    const response = await request.post('/api/upload-image', formData1, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data',\r\n        'Authorization': `${localStorage.getItem('auth_token')}`\r\n      }\r\n    })\r\n    \r\n    formData.value.image_url = response.data.image_url\r\n    formData.value.thumbnail_url = response.data.thumbnail_url\r\n  } catch (error) {\r\n    console.error('Failed to upload image:', error)\r\n    alert('Failed to upload image')\r\n  }\r\n}\r\n\r\nconst clearImage = () => {\r\n  preview.value = '';\r\n  formData.value.image_url = '';\r\n  formData.value.thumbnail_url = '';\r\n  if (fileInput.value) {\r\n    fileInput.value.value = '';\r\n  }\r\n};\r\n\r\n// 关闭弹窗\r\nconst closeDialog = () => {\r\n  showDialog.value = false\r\n}\r\n\r\nonMounted(() => {\r\n  loadCategories()\r\n  loadProducts()\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n  /* 基础样式 */\r\n  .admin-container {\r\n    padding: 20px;\r\n    max-width: 1000px;\r\n    margin: 0 auto;\r\n  }\r\n  \r\n  .data-table {\r\n    width: 100%;\r\n    border-collapse: collapse;\r\n    margin-top: 20px;\r\n  }\r\n  \r\n  .data-table th,\r\n  .data-table td {\r\n    padding: 12px;\r\n    border: 1px solid #ddd;\r\n    text-align: left;\r\n  }\r\n  \r\n  .data-table th {\r\n    background-color: #f5f5f5;\r\n  }\r\n  \r\n  .actions {\r\n    min-width: 150px;\r\n  }\r\n  \r\n  .btn {\r\n    padding: 8px 16px;\r\n    border-radius: 4px;\r\n    cursor: pointer;\r\n    margin: 0 4px;\r\n    transition: all 0.3s;\r\n  }\r\n  \r\n  .btn.primary {\r\n    background-color: #409eff;\r\n    color: white;\r\n    border: 1px solid #409eff;\r\n  }\r\n  \r\n  .btn.edit {\r\n    background-color: #e6a23c;\r\n    color: white;\r\n    border: 1px solid #e6a23c;\r\n  }\r\n  \r\n  .btn.danger {\r\n    background-color: #f56c6c;\r\n    color: white;\r\n    border: 1px solid #f56c6c;\r\n  }\r\n  \r\n  /* 模态框样式 */\r\n  .modal {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background: rgba(0,0,0,0.5);\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n  \r\n  .modal-content {\r\n    background: white;\r\n    padding: 24px;\r\n    border-radius: 8px;\r\n    min-width: 400px;\r\n  }\r\n  \r\n  .form-group {\r\n    margin-bottom: 16px;\r\n  }\r\n  \r\n  .form-input {\r\n    width: 100%;\r\n    padding: 8px;\r\n    border: 1px solid #ddd;\r\n    border-radius: 4px;\r\n  }\r\n  \r\n  .form-actions {\r\n    margin-top: 20px;\r\n    text-align: right;\r\n  }\r\n\r\n  .drop-zone {\r\n    width: 100%;\r\n    height: 200px;\r\n    border: 2px dashed #ddd;\r\n    border-radius: 8px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    position: relative;\r\n    margin-bottom: 20px;\r\n    cursor: pointer;\r\n    transition: all 0.3s ease;\r\n  }\r\n\r\n  .drop-zone:hover {\r\n    border-color: #409eff;\r\n  }\r\n\r\n  .drag-over {\r\n    border-color: #409eff;\r\n    background-color: rgba(64, 158, 255, 0.1);\r\n  }\r\n\r\n  .image-preview {\r\n    max-width: 100%;\r\n    max-height: 100%;\r\n    object-fit: contain;\r\n  }\r\n\r\n  .clear-image {\r\n    position: absolute;\r\n    top: 10px;\r\n    right: 10px;\r\n    background: rgba(0, 0, 0, 0.5);\r\n    color: white;\r\n    border: none;\r\n    border-radius: 50%;\r\n    width: 24px;\r\n    height: 24px;\r\n    cursor: pointer;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n\r\n  .clear-image:hover {\r\n    background: rgba(0, 0, 0, 0.7);\r\n  }\r\n\r\n  .preview-container {\r\n    margin-top: 10px;\r\n    position: relative;\r\n    display: inline-block;\r\n  }\r\n\r\n  .preview-image {\r\n    max-width: 200px;\r\n    max-height: 200px;\r\n    border-radius: 4px;\r\n    border: 1px solid #ddd;\r\n  }\r\n\r\n  .clear-preview {\r\n    position: absolute;\r\n    top: -10px;\r\n    right: -10px;\r\n    width: 20px;\r\n    height: 20px;\r\n    border-radius: 50%;\r\n    background: rgba(0, 0, 0, 0.5);\r\n    color: white;\r\n    border: none;\r\n    cursor: pointer;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    padding: 0;\r\n  }\r\n\r\n  .clear-preview:hover {\r\n    background: rgba(0, 0, 0, 0.7);\r\n  }\r\n</style>"],"mappings":"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","ignoreList":[]}]}