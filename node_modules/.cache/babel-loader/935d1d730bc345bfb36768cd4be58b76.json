{"remainingRequest":"D:\\IEMS5718web\\shop_demo\\node_modules\\thread-loader\\dist\\cjs.js!D:\\IEMS5718web\\shop_demo\\node_modules\\babel-loader\\lib\\index.js!D:\\IEMS5718web\\shop_demo\\src\\router\\index.js","dependencies":[{"path":"D:\\IEMS5718web\\shop_demo\\src\\router\\index.js","mtime":1745130330337},{"path":"D:\\IEMS5718web\\shop_demo\\babel.config.js","mtime":1738482584419},{"path":"D:\\IEMS5718web\\shop_demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746349774639},{"path":"D:\\IEMS5718web\\shop_demo\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1746349774611},{"path":"D:\\IEMS5718web\\shop_demo\\node_modules\\babel-loader\\lib\\index.js","mtime":1746349776751}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlUm91dGVyLCBjcmVhdGVXZWJIYXNoSGlzdG9yeSB9IGZyb20gJ3Z1ZS1yb3V0ZXInOwovLyBpbXBvcnQgSG9tZSBmcm9tICcuLi92aWV3cy9Ib21lLnZ1ZScKaW1wb3J0IEhvbWUgZnJvbSAnLi4vY29tcG9uZW50cy9Qcm9kdWN0TGlzdC52dWUnOwppbXBvcnQgUHJvZHVjdCBmcm9tICcuLi9jb21wb25lbnRzL1Byb2R1Y3REZXRhaWwudnVlJzsKY29uc3Qgcm91dGVzID0gW3sKICBwYXRoOiAnLycsCiAgbmFtZTogJ0hvbWUnLAogIGNvbXBvbmVudDogSG9tZQp9LCB7CiAgcGF0aDogJy9sb2dpbicsCiAgLy8g5paw5aKe55m75b2V6aG16Lev55SxCiAgbmFtZTogJ0xvZ2luJywKICBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgnLi4vdmlld3MvTG9naW4udnVlJykKfSwgewogIHBhdGg6ICcvcHJvZHVjdC86aWQnLAogIG5hbWU6ICdQcm9kdWN0JywKICBjb21wb25lbnQ6IFByb2R1Y3QsCiAgbWV0YTogewogICAgcmVxdWlyZXNBdXRoOiB0cnVlCiAgfQp9LCB7CiAgcGF0aDogJy9jYXRlZ29yeS86Y2F0ZWdvcnknLAogIGNvbXBvbmVudDogSG9tZSwKICBuYW1lOiAnY2F0ZWdvcnknCn0sIHsKICBwYXRoOiAnL2Fib3V0JywKICBuYW1lOiAnQWJvdXQnLAogIC8vIHJvdXRlIGxldmVsIGNvZGUtc3BsaXR0aW5nCiAgLy8gdGhpcyBnZW5lcmF0ZXMgYSBzZXBhcmF0ZSBjaHVuayAoYWJvdXQuW2hhc2hdLmpzKSBmb3IgdGhpcyByb3V0ZQogIC8vIHdoaWNoIGlzIGxhenktbG9hZGVkIHdoZW4gdGhlIHJvdXRlIGlzIHZpc2l0ZWQuCiAgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoLyogd2VicGFja0NodW5rTmFtZTogImFib3V0IiAqLycuLi92aWV3cy9BYm91dC52dWUnKQp9LCB7CiAgcGF0aDogJy9hZG1pbicsCiAgbmFtZTogJ0FkbWluJywKICBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgnLi4vdmlld3MvQWRtaW4udnVlJykKfSwgewogIHBhdGg6ICcvY2hhbmdlLXBhc3N3b3JkJywKICBuYW1lOiAnQ2hhbmdlUGFzc3dvcmQnLAogIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCcuLi92aWV3cy9DaGFuZ2VQYXNzd29yZC52dWUnKQp9LCB7CiAgcGF0aDogJy9wYXltZW50LWNvbXBsZXRlJywKICBuYW1lOiAnUGF5bWVudENvbXBsZXRlJywKICBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgnLi4vdmlld3MvUGF5bWVudENvbXBsZXRlLnZ1ZScpLAogIC8vIOa3u+WKoCBwcm9wcyDmnaXmjqXmlLbmn6Xor6Llj4LmlbAKICBwcm9wczogcm91dGUgPT4gKHsKICAgIHRva2VuOiByb3V0ZS5xdWVyeS50b2tlbiwKICAgIFBheWVySUQ6IHJvdXRlLnF1ZXJ5LlBheWVySUQKICB9KQp9LCB7CiAgcGF0aDogJy9wYXltZW50LWNhbmNlbCcsCiAgbmFtZTogJ1BheW1lbnRDYW5jZWwnLAogIHJlZGlyZWN0OiAnLycgLy8g5pSv5LuY5Y+W5raI55u05o6l6L+U5Zue6aaW6aG1Cn0sIHsKICBwYXRoOiAnL29yZGVycycsCiAgbmFtZTogJ09yZGVycycsCiAgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoJy4uL3ZpZXdzL09yZGVycy52dWUnKQp9LCB7CiAgcGF0aDogJy9yZXNldC1wYXNzd29yZCcsCiAgbmFtZTogJ1Jlc2V0UGFzc3dvcmQnLAogIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCcuLi92aWV3cy9SZXNldFBhc3N3b3JkLnZ1ZScpCn0sIHsKICBwYXRoOiAnL3Jlc2V0LXBhc3N3b3JkLzp0b2tlbicsCiAgbmFtZTogJ1Jlc2V0UGFzc3dvcmRDb25maXJtJywKICBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgnLi4vdmlld3MvUmVzZXRQYXNzd29yZC52dWUnKSwKICBwcm9wczogdHJ1ZQp9XTsKY29uc3Qgcm91dGVyID0gY3JlYXRlUm91dGVyKHsKICBoaXN0b3J5OiBjcmVhdGVXZWJIYXNoSGlzdG9yeSgpLAogIHJvdXRlcwp9KTsKCi8vIOa3u+WKoOWFqOWxgOi3r+eUseWuiOWNqwpyb3V0ZXIuYmVmb3JlRWFjaCgodG8sIGZyb20sIG5leHQpID0+IHsKICBjb25zdCBpc0F1dGhlbnRpY2F0ZWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYXV0aF90b2tlbicpOyAvLyDlgYforr7ku6TniYzlrZjlgqjlnKhsb2NhbFN0b3JhZ2UKICBpZiAodG8ubWV0YS5yZXF1aXJlc0F1dGggJiYgIWlzQXV0aGVudGljYXRlZCkgewogICAgbmV4dCgnL2xvZ2luJyk7IC8vIOacqueZu+W9leaXtui3s+i9rOWIsOeZu+W9lemhtQogIH0gZWxzZSB7CiAgICBuZXh0KCk7CiAgfQp9KTsKZXhwb3J0IGRlZmF1bHQgcm91dGVyOwovLyBjdXJsIC1mc1NMIGh0dHBzOi8vcnBtLm5vZGVzb3VyY2UuY29tL3NldHVwXzE2LnggfCBzdWRvIGJhc2ggLQ=="},{"version":3,"names":["createRouter","createWebHashHistory","Home","Product","routes","path","name","component","meta","requiresAuth","props","route","token","query","PayerID","redirect","router","history","beforeEach","to","from","next","isAuthenticated","localStorage","getItem"],"sources":["D:/IEMS5718web/shop_demo/src/router/index.js"],"sourcesContent":["import { createRouter, createWebHashHistory } from 'vue-router'\n// import Home from '../views/Home.vue'\nimport Home from '../components/ProductList.vue'\nimport Product from '../components/ProductDetail.vue'\nconst routes = [\n  {\n    path: '/',\n    name: 'Home',\n    component: Home\n  },\n  {\n    path: '/login',  // 新增登录页路由\n    name: 'Login',\n    component: () => import('../views/Login.vue')\n  },\n  {\n    path: '/product/:id',\n    name: 'Product',\n    component: Product,\n    meta: { requiresAuth: true } \n  },\n  { \n    path: '/category/:category', \n    component: Home, \n    name: 'category' \n  },\n  {\n    path: '/about',\n    name: 'About',\n    // route level code-splitting\n    // this generates a separate chunk (about.[hash].js) for this route\n    // which is lazy-loaded when the route is visited.\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/About.vue')\n  },\n  {\n    path: '/admin',\n    name: 'Admin',\n    component: () => import( '../views/Admin.vue')\n  },\n  {\n    path: '/change-password',\n    name: 'ChangePassword',\n    component: () => import('../views/ChangePassword.vue')\n  },\n  {\n    path: '/payment-complete',\n    name: 'PaymentComplete',\n    component: () => import('../views/PaymentComplete.vue'),\n    // 添加 props 来接收查询参数\n    props: route => ({ token: route.query.token, PayerID: route.query.PayerID })\n  },\n  {\n    path: '/payment-cancel',\n    name: 'PaymentCancel',\n    redirect: '/'  // 支付取消直接返回首页\n  },\n  {\n    path: '/orders',\n    name: 'Orders',\n    component: () => import('../views/Orders.vue'),\n  },\n  {\n    path: '/reset-password',\n    name: 'ResetPassword',\n    component: () => import('../views/ResetPassword.vue')\n  },\n  {\n    path: '/reset-password/:token',\n    name: 'ResetPasswordConfirm',\n    component: () => import('../views/ResetPassword.vue'),\n    props: true\n  }\n]\n\nconst router = createRouter({\n  history: createWebHashHistory(),\n  routes\n})\n\n// 添加全局路由守卫\nrouter.beforeEach((to, from, next) => {\n  const isAuthenticated = localStorage.getItem('auth_token') // 假设令牌存储在localStorage\n  if (to.meta.requiresAuth && !isAuthenticated) {\n    next('/login') // 未登录时跳转到登录页\n  } else {\n    next()\n  }\n})\nexport default router\n// curl -fsSL https://rpm.nodesource.com/setup_16.x | sudo bash -"],"mappings":"AAAA,SAASA,YAAY,EAAEC,oBAAoB,QAAQ,YAAY;AAC/D;AACA,OAAOC,IAAI,MAAM,+BAA+B;AAChD,OAAOC,OAAO,MAAM,iCAAiC;AACrD,MAAMC,MAAM,GAAG,CACb;EACEC,IAAI,EAAE,GAAG;EACTC,IAAI,EAAE,MAAM;EACZC,SAAS,EAAEL;AACb,CAAC,EACD;EACEG,IAAI,EAAE,QAAQ;EAAG;EACjBC,IAAI,EAAE,OAAO;EACbC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,oBAAoB;AAC9C,CAAC,EACD;EACEF,IAAI,EAAE,cAAc;EACpBC,IAAI,EAAE,SAAS;EACfC,SAAS,EAAEJ,OAAO;EAClBK,IAAI,EAAE;IAAEC,YAAY,EAAE;EAAK;AAC7B,CAAC,EACD;EACEJ,IAAI,EAAE,qBAAqB;EAC3BE,SAAS,EAAEL,IAAI;EACfI,IAAI,EAAE;AACR,CAAC,EACD;EACED,IAAI,EAAE,QAAQ;EACdC,IAAI,EAAE,OAAO;EACb;EACA;EACA;EACAC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,+BAAgC,oBAAoB;AAC9E,CAAC,EACD;EACEF,IAAI,EAAE,QAAQ;EACdC,IAAI,EAAE,OAAO;EACbC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAE,oBAAoB;AAC/C,CAAC,EACD;EACEF,IAAI,EAAE,kBAAkB;EACxBC,IAAI,EAAE,gBAAgB;EACtBC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,6BAA6B;AACvD,CAAC,EACD;EACEF,IAAI,EAAE,mBAAmB;EACzBC,IAAI,EAAE,iBAAiB;EACvBC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,8BAA8B,CAAC;EACvD;EACAG,KAAK,EAAEC,KAAK,KAAK;IAAEC,KAAK,EAAED,KAAK,CAACE,KAAK,CAACD,KAAK;IAAEE,OAAO,EAAEH,KAAK,CAACE,KAAK,CAACC;EAAQ,CAAC;AAC7E,CAAC,EACD;EACET,IAAI,EAAE,iBAAiB;EACvBC,IAAI,EAAE,eAAe;EACrBS,QAAQ,EAAE,GAAG,CAAE;AACjB,CAAC,EACD;EACEV,IAAI,EAAE,SAAS;EACfC,IAAI,EAAE,QAAQ;EACdC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,qBAAqB;AAC/C,CAAC,EACD;EACEF,IAAI,EAAE,iBAAiB;EACvBC,IAAI,EAAE,eAAe;EACrBC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,4BAA4B;AACtD,CAAC,EACD;EACEF,IAAI,EAAE,wBAAwB;EAC9BC,IAAI,EAAE,sBAAsB;EAC5BC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,4BAA4B,CAAC;EACrDG,KAAK,EAAE;AACT,CAAC,CACF;AAED,MAAMM,MAAM,GAAGhB,YAAY,CAAC;EAC1BiB,OAAO,EAAEhB,oBAAoB,CAAC,CAAC;EAC/BG;AACF,CAAC,CAAC;;AAEF;AACAY,MAAM,CAACE,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACpC,MAAMC,eAAe,GAAGC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC,EAAC;EAC3D,IAAIL,EAAE,CAACX,IAAI,CAACC,YAAY,IAAI,CAACa,eAAe,EAAE;IAC5CD,IAAI,CAAC,QAAQ,CAAC,EAAC;EACjB,CAAC,MAAM;IACLA,IAAI,CAAC,CAAC;EACR;AACF,CAAC,CAAC;AACF,eAAeL,MAAM;AACrB","ignoreList":[]}]}