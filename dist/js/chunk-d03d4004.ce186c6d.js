(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d03d4004"],{"0060":function(e,t,a){"use strict";a.r(t);a("14d9");var c=a("7a23"),o=a("6605"),l=a("5502"),r=a("b775");const s={class:"auth-container"},n={class:"form-container"},d={class:"form-group"},u={class:"form-group"},i={class:"form-group"},b={key:0,class:"error"},p={key:1,class:"success"};var m={__name:"ChangePassword",setup(e){const t=Object(c["ref"])(""),a=Object(c["ref"])(""),m=Object(c["ref"])(""),v=Object(c["ref"])(""),j=Object(c["ref"])(""),O=Object(o["d"])(),w=Object(l["d"])(),h=async()=>{if(a.value===m.value)try{await r["a"].get("/api/change-password",{current_password:t.value,new_password:a.value},{headers:{Authorization:""+localStorage.getItem("auth_token")}});j.value="Password changed successfully. You will be logged out.",v.value="",localStorage.removeItem("auth_token"),w.dispatch("logout"),setTimeout(()=>{O.push("/login")},2e3)}catch(e){v.value="Password change failed: "+e.response.data.detail,j.value=""}else v.value="New passwords do not match"};return(e,o)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",s,[Object(c["createElementVNode"])("div",n,[o[7]||(o[7]=Object(c["createElementVNode"])("h2",null,"Change Password",-1)),Object(c["createElementVNode"])("form",{onSubmit:Object(c["withModifiers"])(h,["prevent"])},[Object(c["createElementVNode"])("div",d,[o[3]||(o[3]=Object(c["createElementVNode"])("label",null,"Current Password",-1)),Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{"onUpdate:modelValue":o[0]||(o[0]=e=>t.value=e),type:"password",required:""},null,512),[[c["vModelText"],t.value]])]),Object(c["createElementVNode"])("div",u,[o[4]||(o[4]=Object(c["createElementVNode"])("label",null,"New Password",-1)),Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{"onUpdate:modelValue":o[1]||(o[1]=e=>a.value=e),type:"password",required:""},null,512),[[c["vModelText"],a.value]])]),Object(c["createElementVNode"])("div",i,[o[5]||(o[5]=Object(c["createElementVNode"])("label",null,"Confirm New Password",-1)),Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{"onUpdate:modelValue":o[2]||(o[2]=e=>m.value=e),type:"password",required:""},null,512),[[c["vModelText"],m.value]])]),o[6]||(o[6]=Object(c["createElementVNode"])("button",{type:"submit"},"Change Password",-1)),v.value?(Object(c["openBlock"])(),Object(c["createElementBlock"])("p",b,Object(c["toDisplayString"])(v.value),1)):Object(c["createCommentVNode"])("",!0),j.value?(Object(c["openBlock"])(),Object(c["createElementBlock"])("p",p,Object(c["toDisplayString"])(j.value),1)):Object(c["createCommentVNode"])("",!0)],32)])]))}},v=(a("0468"),a("6b0d")),j=a.n(v);const O=j()(m,[["__scopeId","data-v-67d0825e"]]);t["default"]=O},"0468":function(e,t,a){"use strict";a("39f5")},"39f5":function(e,t,a){}}]);
//# sourceMappingURL=chunk-d03d4004.ce186c6d.js.map