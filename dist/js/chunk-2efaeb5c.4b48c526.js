(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2efaeb5c"],{"0813":function(e,t,s){"use strict";s.r(t);var r=s("7a23");const o={class:"reset-password"},a={class:"form-container"},c={key:0},n={key:0},d={class:"form-group"},l={key:1},i={key:1},m={class:"form-group"},p={class:"form-group"},u={key:2,class:"error"},b={key:3,class:"success-message"};function w(e,t,s,w,j,O){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",o,[Object(r["createElementVNode"])("div",a,[w.token?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",i,[t[12]||(t[12]=Object(r["createElementVNode"])("h2",null,"Set New Password",-1)),Object(r["createElementVNode"])("form",{onSubmit:t[4]||(t[4]=Object(r["withModifiers"])((...e)=>O.resetPassword&&O.resetPassword(...e),["prevent"]))},[Object(r["createElementVNode"])("div",m,[t[9]||(t[9]=Object(r["createElementVNode"])("label",null,"New Password",-1)),Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>j.newPassword=e),type:"password",required:""},null,512),[[r["vModelText"],j.newPassword]])]),Object(r["createElementVNode"])("div",p,[t[10]||(t[10]=Object(r["createElementVNode"])("label",null,"Confirm Password",-1)),Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>j.confirmPassword=e),type:"password",required:""},null,512),[[r["vModelText"],j.confirmPassword]])]),t[11]||(t[11]=Object(r["createElementVNode"])("button",{type:"submit"},"Reset Password",-1))],32)])):(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",c,[t[8]||(t[8]=Object(r["createElementVNode"])("h2",null,"Reset Password",-1)),1===j.step?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",n,[Object(r["createElementVNode"])("form",{onSubmit:t[1]||(t[1]=Object(r["withModifiers"])((...e)=>O.requestReset&&O.requestReset(...e),["prevent"]))},[Object(r["createElementVNode"])("div",d,[t[5]||(t[5]=Object(r["createElementVNode"])("label",null,"Email Address",-1)),Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>j.email=e),type:"email",required:""},null,512),[[r["vModelText"],j.email]])]),t[6]||(t[6]=Object(r["createElementVNode"])("button",{type:"submit"},"Send Reset Link",-1))],32)])):Object(r["createCommentVNode"])("",!0),2===j.step?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",l,t[7]||(t[7]=[Object(r["createElementVNode"])("p",{class:"success-message"}," If an account exists with this email, you will receive a password reset link. ",-1)]))):Object(r["createCommentVNode"])("",!0)])),j.errorMessage?(Object(r["openBlock"])(),Object(r["createElementBlock"])("p",u,Object(r["toDisplayString"])(j.errorMessage),1)):Object(r["createCommentVNode"])("",!0),j.successMessage?(Object(r["openBlock"])(),Object(r["createElementBlock"])("p",b,Object(r["toDisplayString"])(j.successMessage),1)):Object(r["createCommentVNode"])("",!0)])])}s("14d9");var j=s("b775"),O=s("6605"),h={setup(){Object(O["d"])();const e=Object(O["c"])();return{token:e.params.token}},data(){return{email:"",step:1,errorMessage:"",successMessage:"",newPassword:"",confirmPassword:""}},methods:{async requestReset(){try{const e=new FormData;e.append("email",this.email),await j["a"].post("/api/reset-password-request",e,{headers:{"Content-Type":"multipart/form-data"}}),this.step=2,this.errorMessage=""}catch(t){var e;this.errorMessage=(null===(e=t.response)||void 0===e||null===(e=e.data)||void 0===e?void 0:e.detail)||"An error occurred"}},async resetPassword(){if(this.newPassword===this.confirmPassword)try{const e=new FormData;e.append("new_password",this.newPassword),await j["a"].post("/api/reset-password/"+this.token,e,{headers:{"Content-Type":"multipart/form-data"}}),this.successMessage="Password has been reset successfully",setTimeout(()=>{this.$router.push("/login")},3e3)}catch(t){var e;this.errorMessage=(null===(e=t.response)||void 0===e||null===(e=e.data)||void 0===e?void 0:e.detail)||"Failed to reset password"}else this.errorMessage="Passwords do not match"}}},k=(s("52dd"),s("6b0d")),v=s.n(k);const f=v()(h,[["render",w],["__scopeId","data-v-44fdf3cb"]]);t["default"]=f},"476c":function(e,t,s){},"52dd":function(e,t,s){"use strict";s("476c")}}]);
//# sourceMappingURL=chunk-2efaeb5c.4b48c526.js.map