(function(e){function t(t){for(var o,r,l=t[0],i=t[1],d=t[2],s=0,u=[];s<l.length;s++)r=l[s],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&u.push(a[r][0]),a[r]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o]);p&&p(t);while(u.length)u.shift()();return n.push.apply(n,d||[]),c()}function c(){for(var e,t=0;t<n.length;t++){for(var c=n[t],o=!0,r=1;r<c.length;r++){var l=c[r];0!==a[l]&&(o=!1)}o&&(n.splice(t--,1),e=i(i.s=c[0]))}return e}var o={},r={app:0},a={app:0},n=[];function l(e){return i.p+"js/"+({about:"about"}[e]||e)+"."+{about:"444a92ca","chunk-24c832f1":"b979a5dd"}[e]+".js"}function i(t){if(o[t])return o[t].exports;var c=o[t]={i:t,l:!1,exports:{}};return e[t].call(c.exports,c,c.exports,i),c.l=!0,c.exports}i.e=function(e){var t=[],c={"chunk-24c832f1":1};r[e]?t.push(r[e]):0!==r[e]&&c[e]&&t.push(r[e]=new Promise((function(t,c){for(var o="css/"+({about:"about"}[e]||e)+"."+{about:"31d6cfe0","chunk-24c832f1":"1344a270"}[e]+".css",a=i.p+o,n=document.getElementsByTagName("link"),l=0;l<n.length;l++){var d=n[l],s=d.getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(s===o||s===a))return t()}var u=document.getElementsByTagName("style");for(l=0;l<u.length;l++){d=u[l],s=d.getAttribute("data-href");if(s===o||s===a)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var o=t&&t.target&&t.target.src||a,n=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");n.code="CSS_CHUNK_LOAD_FAILED",n.request=o,delete r[e],p.parentNode.removeChild(p),c(n)},p.href=a;var m=document.getElementsByTagName("head")[0];m.appendChild(p)})).then((function(){r[e]=0})));var o=a[e];if(0!==o)if(o)t.push(o[2]);else{var n=new Promise((function(t,c){o=a[e]=[t,c]}));t.push(o[2]=n);var d,s=document.createElement("script");s.charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.src=l(e);var u=new Error;d=function(t){s.onerror=s.onload=null,clearTimeout(p);var c=a[e];if(0!==c){if(c){var o=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+o+": "+r+")",u.name="ChunkLoadError",u.type=o,u.request=r,c[1](u)}a[e]=void 0}};var p=setTimeout((function(){d({type:"timeout",target:s})}),12e4);s.onerror=s.onload=d,document.head.appendChild(s)}return Promise.all(t)},i.m=e,i.c=o,i.d=function(e,t,c){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:c})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var c=Object.create(null);if(i.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(c,o,function(t){return e[t]}.bind(null,o));return c},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/iems5718-shoppingsite-1155218630/",i.oe=function(e){throw console.error(e),e};var d=window["webpackJsonp"]=window["webpackJsonp"]||[],s=d.push.bind(d);d.push=t,d=d.slice();for(var u=0;u<d.length;u++)t(d[u]);var p=s;n.push([0,"chunk-vendors"]),c()})({0:function(e,t,c){e.exports=c("56d7")},"058b":function(e,t,c){"use strict";c("ef59")},"0f5f":function(e,t,c){"use strict";c("e288")},"56d7":function(e,t,c){"use strict";c.r(t);var o=c("7a23");const r={id:"nav"},a={id:"app"};function n(e,t,c,n,l,i){const d=Object(o["resolveComponent"])("router-link"),s=Object(o["resolveComponent"])("router-view"),u=Object(o["resolveComponent"])("Footer");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createElementVNode"])("div",r,[Object(o["createVNode"])(d,{to:"/"},{default:Object(o["withCtx"])(()=>t[0]||(t[0]=[Object(o["createTextVNode"])("Home")])),_:1}),t[3]||(t[3]=Object(o["createTextVNode"])(" | ")),Object(o["createVNode"])(d,{to:"/about"},{default:Object(o["withCtx"])(()=>t[1]||(t[1]=[Object(o["createTextVNode"])("About")])),_:1}),t[4]||(t[4]=Object(o["createTextVNode"])(" | ")),Object(o["createVNode"])(d,{to:"/admin"},{default:Object(o["withCtx"])(()=>t[2]||(t[2]=[Object(o["createTextVNode"])("Admin Panel")])),_:1})]),Object(o["createElementVNode"])("div",a,[Object(o["createVNode"])(s),Object(o["createVNode"])(u)])],64)}function l(e,t,c,r,a,n){return Object(o["openBlock"])(),Object(o["createElementBlock"])("footer",null,t[0]||(t[0]=[Object(o["createElementVNode"])("p",null,"Â© Shopping Site for IEMS5718 ",-1),Object(o["createElementVNode"])("p",null,"SID: 1155218630 SName: Lin Zhicong",-1)]))}var i={name:"Footer"},d=(c("fb60"),c("6b0d")),s=c.n(d);const u=s()(i,[["render",l],["__scopeId","data-v-30cd1747"]]);var p=u,m={name:"App",components:{Footer:p},data(){return{}},methods:{}};c("0f5f");const b=s()(m,[["render",n]]);var h=b,O=c("6605");const j={class:"main-page"},g={class:"sidebar"},f={class:"category-card"},y={class:"category-list"},v=["onClick"],C={class:"content"},N={class:"level-menu"},E={key:0},k={class:"product-list"},V=["src","onMouseover","onClick"],S=["onClick"],B=["onClick"],P={key:0},T={key:1},x=["onUpdate:modelValue","onChange"],w=["onClick"];function _(e,t,c,r,a,n){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",j,[Object(o["createElementVNode"])("div",g,[Object(o["createElementVNode"])("div",f,[t[3]||(t[3]=Object(o["createElementVNode"])("h3",null,"Categories",-1)),Object(o["createElementVNode"])("ul",y,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(a.categories,e=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("li",{key:e.catid,onClick:t=>n.filterByCategory(e)},Object(o["toDisplayString"])(e.name),9,v))),128))])])]),Object(o["createElementVNode"])("div",C,[Object(o["createElementVNode"])("header",null,[Object(o["createElementVNode"])("nav",N,[Object(o["createElementVNode"])("ul",null,[Object(o["createElementVNode"])("li",null,[Object(o["createElementVNode"])("a",{href:"#",onClick:t[0]||(t[0]=(...e)=>n.goToHome&&n.goToHome(...e))},"Home")]),a.selectedCategory?(Object(o["openBlock"])(),Object(o["createElementBlock"])("li",E,[Object(o["createElementVNode"])("a",null,"|"+Object(o["toDisplayString"])(a.selectedCategory),1)])):Object(o["createCommentVNode"])("",!0)])])]),Object(o["createElementVNode"])("section",k,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(a.products,t=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:t.pid,class:"product-item card"},[Object(o["createElementVNode"])("img",{src:a.url_prefix+t.thumbnail_url,alt:"Product Thumbnail",onMouseover:c=>e.hoverProduct(t.pid),onClick:e=>n.goToProductPage(t.pid)},null,40,V),Object(o["createElementVNode"])("h3",{onClick:e=>n.goToProductPage(t.pid),class:"product-name"},Object(o["toDisplayString"])(t.name),9,S),Object(o["createElementVNode"])("p",null,"$"+Object(o["toDisplayString"])(t.price),1),Object(o["createElementVNode"])("button",{onClick:e=>n.addToCart(t)},"Add to Cart",8,B)]))),128))])]),Object(o["createElementVNode"])("div",{class:Object(o["normalizeClass"])(["shopping-list",{expanded:a.hoverCart}]),onMouseover:t[1]||(t[1]=e=>a.hoverCart=!0),onMouseleave:t[2]||(t[2]=e=>a.hoverCart=!1)},[a.hoverCart?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("h4",P,"Shopping List (Total: $"+Object(o["toDisplayString"])(n.totalPrice)+")",1)),a.hoverCart?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",T,[Object(o["createElementVNode"])("h4",null,"Shopping List (Total: $"+Object(o["toDisplayString"])(n.totalPrice)+")",1),Object(o["createElementVNode"])("ul",null,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(a.cart,e=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("li",{key:e.pid},[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.name)+" ",1),Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"number","onUpdate:modelValue":t=>e.quantity=t,min:"1",onChange:t=>n.updateQuantity(e.pid,e.quantity)},null,40,x),[[o["vModelText"],e.quantity]]),Object(o["createTextVNode"])(" @ $"+Object(o["toDisplayString"])(e.price*e.quantity)+" ",1),Object(o["createElementVNode"])("button",{onClick:t=>n.removeFromCart(e.pid)},"Remove",8,w)]))),128))]),t[4]||(t[4]=Object(o["createElementVNode"])("button",null,"Checkout",-1))])):Object(o["createCommentVNode"])("",!0)],34)])}c("14d9"),c("13d5"),c("0643"),c("2382"),c("fffc"),c("9d4a");var D=c("cee4"),q={data(){return{url_prefix:"http://localhost:8000",categories:[],selectedCategory:this.$route.params.category||null,products:[],cart:JSON.parse(localStorage.getItem("cart"))||[],hoverCart:!1}},computed:{totalPrice(){return this.cart.reduce((e,t)=>e+t.price*t.quantity,0).toFixed(2)}},methods:{async addToCart(e){const t=this.cart,c=t.find(t=>t.pid===e.pid);if(c)c.quantity++;else{const c=await D["a"].get("http://localhost:8000/api/one_product/"+e.pid),o=c.data;t.push({...o,quantity:1})}localStorage.setItem("cart",JSON.stringify(t))},removeFromCart(e){this.cart=this.cart.filter(t=>t.pid!==e),localStorage.setItem("cart",JSON.stringify(this.cart))},updateQuantity(e,t){const c=this.cart.find(t=>t.pid===e);c&&(c.quantity=t,localStorage.setItem("cart",JSON.stringify(this.cart)))},goToProductPage(e){this.$router.push("/product/"+e)},goToHome(){this.selectedCategory=null,this.fetchProducts(),this.$router.push("/")},filterByCategory(e){this.selectedCategory=e.name,this.fetchProducts(e.catid),this.$router.push("/category/"+e.name)},async fetchCategories(){const e=this;await D["a"].get("http://localhost:8000/api/categories").then(t=>{e.categories=t.data})},async fetchProducts(e){if(e){const t=this;await D["a"].get("http://localhost:8000/api/products?catid="+e).then(e=>{t.products=e.data})}else{const e=this;await D["a"].get("http://localhost:8000/api/products").then(t=>{e.products=t.data})}}},created(){this.fetchCategories(),this.fetchProducts(this.$route.query.cid)}};c("6a01");const F=s()(q,[["render",_],["__scopeId","data-v-d478c870"]]);var $=F;const I={class:"product-page"},L={class:"sidebar"},A={class:"category-card"},M={class:"category-list"},J=["onClick"],H={class:"content"},U={class:"level-menu"},Q={class:"product-details"},z={class:"product-image"},R=["src"],K={class:"product-info"},Z={class:"product-price"},G={key:0},W={key:1},X=["onUpdate:modelValue","onChange"],Y=["onClick"];function ee(e,t,c,r,a,n){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",I,[Object(o["createElementVNode"])("div",L,[Object(o["createElementVNode"])("div",A,[t[4]||(t[4]=Object(o["createElementVNode"])("h3",null,"Categories",-1)),Object(o["createElementVNode"])("ul",M,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(a.categories,e=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("li",{key:e.catid,onClick:t=>n.filterByCategory(e)},Object(o["toDisplayString"])(e.name),9,J))),128))])])]),Object(o["createElementVNode"])("div",H,[Object(o["createElementVNode"])("header",null,[Object(o["createElementVNode"])("nav",U,[Object(o["createElementVNode"])("ul",null,[t[5]||(t[5]=Object(o["createElementVNode"])("li",null,[Object(o["createElementVNode"])("a",{href:"#"},"Home")],-1)),Object(o["createElementVNode"])("li",null,[Object(o["createElementVNode"])("a",{onClick:t[0]||(t[0]=e=>n.goToCategoryPage(a.selectedCategory))},"|"+Object(o["toDisplayString"])(a.selectedCategory),1)]),Object(o["createElementVNode"])("li",null,"|"+Object(o["toDisplayString"])(a.product.name),1)])])]),Object(o["createElementVNode"])("section",Q,[Object(o["createElementVNode"])("div",z,[Object(o["createElementVNode"])("img",{src:a.url_prefix+a.product.image_url,alt:"Product Image"},null,8,R)]),Object(o["createElementVNode"])("div",K,[Object(o["createElementVNode"])("h2",null,Object(o["toDisplayString"])(a.product.name),1),Object(o["createElementVNode"])("p",null,Object(o["toDisplayString"])(a.product.description),1),Object(o["createElementVNode"])("p",Z,"$"+Object(o["toDisplayString"])(a.product.price),1),Object(o["createElementVNode"])("button",{onClick:t[1]||(t[1]=e=>n.addToCart(a.product)),class:"add-to-cart-btn"},"Add to Cart")])])]),Object(o["createElementVNode"])("div",{class:Object(o["normalizeClass"])(["shopping-list",{expanded:a.hoverCart}]),onMouseover:t[2]||(t[2]=e=>a.hoverCart=!0),onMouseleave:t[3]||(t[3]=e=>a.hoverCart=!1)},[a.hoverCart?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("h4",G,"Shopping List (Total: $"+Object(o["toDisplayString"])(n.totalPrice)+")",1)),a.hoverCart?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",W,[Object(o["createElementVNode"])("h4",null,"Shopping List (Total: $"+Object(o["toDisplayString"])(n.totalPrice)+")",1),Object(o["createElementVNode"])("ul",null,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(a.cart,e=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("li",{key:e.pid},[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.name)+" ",1),Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"number","onUpdate:modelValue":t=>e.quantity=t,min:"1",onChange:t=>n.updateQuantity(e.pid,e.quantity)},null,40,X),[[o["vModelText"],e.quantity]]),Object(o["createTextVNode"])(" @ $"+Object(o["toDisplayString"])((e.price*e.quantity).toFixed(2))+" ",1),Object(o["createElementVNode"])("button",{onClick:t=>n.removeFromCart(e.pid)},"Remove",8,Y)]))),128))]),t[6]||(t[6]=Object(o["createElementVNode"])("button",null,"Checkout",-1))])):Object(o["createCommentVNode"])("",!0)],34)])}var te={data(){return{url_prefix:"http://localhost:8000",categories:[],selectedCategory:null,cart:JSON.parse(localStorage.getItem("cart"))||[],hoverCart:!1,product:{},pid:""}},computed:{totalPrice(){return this.cart.reduce((e,t)=>e+t.price*t.quantity,0).toFixed(2)}},methods:{async addToCart(e){try{const t=await D["a"].get("http://localhost:8000/api/one_product/"+e.pid),c=t.data,o=this.cart.find(t=>t.pid===e.pid);o?o.quantity++:this.cart.push({...c,quantity:1}),localStorage.setItem("cart",JSON.stringify(this.cart))}catch(t){console.error("Failed to add to cart:",t)}},removeFromCart(e){this.cart=this.cart.filter(t=>t.pid!==e),localStorage.setItem("cart",JSON.stringify(this.cart))},updateQuantity(e,t){const c=this.cart.find(t=>t.pid===e);c&&t>=1&&(c.quantity=Number(t),localStorage.setItem("cart",JSON.stringify(this.cart)))},goToCategoryPage(e){this.selectedCategory=e,this.$router.push({path:"/category/"+e,query:{cid:this.categories.find(t=>t.name===e).catid}})},filterByCategory(e){this.selectedCategory=e.name,this.$router.push({path:"/category/"+e.name,query:{cid:e.catid}})},async fetchCategories(){var e;const t=await D["a"].get("http://localhost:8000/api/categories");this.categories=t.data,this.selectedCategory=null===(e=this.categories.find(e=>e.catid===this.product.catid))||void 0===e?void 0:e.name},async fetchProduct(){const e=await D["a"].get("http://localhost:8000/api/one_product/"+this.pid);this.product=e.data}},created(){this.pid=this.$route.params.id,this.fetchProduct(),this.fetchCategories()}};c("058b");const ce=s()(te,[["render",ee],["__scopeId","data-v-28cd4b66"]]);var oe=ce;const re=[{path:"/",name:"Home",component:$},{path:"/product/:id",name:"Product",component:oe},{path:"/category/:category",component:$,name:"category"},{path:"/about",name:"About",component:()=>c.e("about").then(c.bind(null,"f820"))},{path:"/admin",name:"Admin",component:()=>c.e("chunk-24c832f1").then(c.bind(null,"3530"))}],ae=Object(O["a"])({history:Object(O["b"])(),routes:re});var ne=ae,le=c("5502"),ie=Object(le["a"])({state:{},mutations:{},actions:{},modules:{}}),de=c("c3a1");Object(o["createApp"])(h).use(de["a"]).use(ie).use(ne).mount("#app")},6487:function(e,t,c){},"6a01":function(e,t,c){"use strict";c("7655")},7655:function(e,t,c){},e288:function(e,t,c){},ef59:function(e,t,c){},fb60:function(e,t,c){"use strict";c("6487")}});
//# sourceMappingURL=app.1c717adb.js.map